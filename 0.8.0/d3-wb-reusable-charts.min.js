var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,d,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,c,f){if(d){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in c||(c[e]={});c=c[e]}a=a[a.length-1];f=c[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var d=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=d.length,b=a.length;c=Math.max(0,Math.min(c|0,d.length));for(var k=0;k<b&&c<e;)if(d[c++]!=a[k++])return!1;return k>=b}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,f){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var d=[],b=a[Symbol.iterator];if("function"==typeof b)for(a=b.call(a);!(b=a.next()).done;)d.push(c.call(f,b.value));else{b=a.length;for(var k=0;k<b;k++)d.push(c.call(f,a[k]))}return d}},"es6","es3");$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};
$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};
$jscomp.polyfill("WeakMap",function(a){function d(a){$jscomp.owns(a,f)||$jscomp.defineProperty(a,f,{value:{}})}function c(a){var u=Object[a];u&&(Object[a]=function(a){d(a);return u(a)})}if(function(){if(!a||!Object.seal)return!1;try{var c=Object.seal({}),u=Object.seal({}),b=new a([[c,2],[u,3]]);if(2!=b.get(c)||3!=b.get(u))return!1;b.delete(c);b.set(u,4);return!b.has(c)&&4==b.get(u)}catch(h){return!1}}())return a;var f="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var e=0,b=function(a){this.id_=(e+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};b.prototype.set=function(a,b){d(a);if(!$jscomp.owns(a,f))throw Error("WeakMap key fail: "+a);a[f][this.id_]=b;return this};b.prototype.get=function(a){return $jscomp.owns(a,f)?a[f][this.id_]:void 0};b.prototype.has=function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)};b.prototype.delete=
function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)?delete a[f][this.id_]:!1};return b},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var h=c.entries(),d=h.next();if(d.done||d.value[0]!=b||"s"!=d.value[1])return!1;d=h.next();return d.done||4!=d.value[0].x||"t"!=d.value[1]||!h.next().done?!1:!0}catch(l){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var d=new WeakMap,c=function(a){this.data_={};this.head_=b();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}};c.prototype.set=function(a,c){var b=f(this,a);b.list||(b.list=this.data_[b.id]=[]);b.entry?b.entry.value=c:(b.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:c},b.list.push(b.entry),this.head_.previous.next=b.entry,this.head_.previous=b.entry,this.size++);return this};c.prototype.delete=
function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=b();this.size=0};c.prototype.has=function(a){return!!f(this,a).entry};c.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};c.prototype.entries=function(){return e(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return e(this,function(a){return a.key})};c.prototype.values=function(){return e(this,function(a){return a.value})};c.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var f=function(a,b){var c=b&&typeof b;"object"==c||"function"==c?d.has(b)?c=d.get(b):(c=""+ ++k,d.set(b,c)):c="p_"+b;var f=a.data_[c];if(f&&$jscomp.owns(a.data_,c))for(a=0;a<f.length;a++){var e=
f[a];if(b!==b&&e.key!==e.key||b===e.key)return{id:c,list:f,index:a,entry:e}}return{id:c,list:f,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},b=function(){var a={};return a.previous=a.next=a.head=a},k=0;return c},"es6","es3");
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a($jscomp.makeIterator([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),b=e.next();if(b.done||b.value[0]!=c||b.value[1]!=c)return!1;b=e.next();return b.done||b.value[0]==c||4!=b.value[0].x||b.value[1]!=b.value[0]?!1:e.next().done}catch(k){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};d.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};d.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};d.prototype.clear=function(){this.map_.clear();this.size=0};d.prototype.has=function(a){return this.map_.has(a)};d.prototype.entries=function(){return this.map_.entries()};
d.prototype.values=function(){return this.map_.values()};d.prototype.keys=d.prototype.values;d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,d){var c=this;this.map_.forEach(function(b){return a.call(d,b,b,c)})};return d},"es6","es3");
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,f={next:function(){if(c<a.length){var e=c++;return{value:d(e,a[e]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;for(c=c||0;c<e;c++)if(d[c]==a||Object.is(d[c],a))return!0;return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
var wbBarChart=function(){var a=500,d=500,c=.1,f=1,e="x",b="y",k,u,r,h,t="desc",l,m="black",g=function(a){return a},w="blue",B=function(){},q=function(n){n.each(function(n,q,z){var v=d3.select(z[q]);k=d3.scaleBand().rangeRound([0,a],.1).padding(c);u=d3.scaleLinear().range([d,0]);B=function(a){a.forEach(function(a){a[b]=+a[b]});h&&a.sort(function(a,g){return"desc"==t?+g[h]-+a[h]:+a[h]-+g[h]});var c=r?r:[0,d3.max(a,function(a){return a[b]})];u.domain(c);k.domain(a.map(function(a){return a[e]}));v.selectAll(".rects").remove().exit().data(a).enter().append("rect").attr("class",
"rects").attr("x",function(a){if(1<=f)return k(a[e]);var g=k.bandwidth()-k.bandwidth()*f;return k(a[e])+g/2}).attr("width",function(a){return k.bandwidth()*f}).attr("y",function(a){return u(a[b])}).attr("height",function(a){return d-u(a[b])}).attr("fill",function(a,g){return"string"===typeof w?w:"function"===typeof w?w(g):"object"===typeof w&&String(w).startsWith("rgb")?w:w[g]});l&&v.selectAll(".values").remove().exit().data(a).enter().append("text").attr("class","values").attr("fill",m).attr("text-anchor",
"middle").attr("x",function(a){return k(a[e])+k.bandwidth()/2}).attr("y",function(a){return u(a[b])-10}).text(function(a){return g(a[b])})};B(n)})};q.update=function(a){B(a);return q};q.width=function(g){if(!arguments.length)return a;a=g;return q};q.height=function(a){if(!arguments.length)return d;d=a;return q};q.xSelector=function(a){if(!arguments.length)return e;e=a;return q};q.ySelector=function(a){if(!arguments.length)return b;b=a;return q};q.scaleX=function(a){if(!arguments.length)return k;k=
a;return q};q.scaleY=function(a){if(!arguments.length)return u;u=a;return q};q.fill=function(a){if(!arguments.length)return w;w=a;return q};q.yExtent=function(a){if(!arguments.length)return r;r=a;return q};q.valuesShow=function(a){if(!arguments.length)return l;l=a;return q};q.valuesFill=function(a){if(!arguments.length)return m;m=a;return q};q.valueFormat=function(a){if(!arguments.length)return g;g=a;return q};q.padding=function(a){if(!arguments.length)return c;c=a;return q};q.widthFactor=function(a){if(!arguments.length)return f;
f=a;return q};q.sortDirection=function(a){if(!arguments.length)return t;if("desc"!=a&&"asc"!=a)throw Error("Only desc or asc are allowed as sort order.");t=a;return q};q.sortBy=function(a){if(!arguments.length)return h;h=a;return q};return q},wbChordDiagram=function(){var a=500,d="black",c=d3.scaleOrdinal(d3.schemeCategory20c),f,e,b=function(b){b.each(function(b,k,h){b=d3.select(h[k]);var t=a/2-100,l=d3.chord().padAngle(.04).sortSubgroups(d3.descending).sortChords(d3.descending);k=d3.arc().innerRadius(t).outerRadius(t+
20);h=d3.ribbon().radius(t);l=l(f);b.attr("class","chord-circle").datum(l);b.append("circle").attr("fill","none").attr("pointer-events","all").attr("r",t+20);l=b.selectAll("group").data(function(a){return a.groups}).enter().append("g").style("fill-opacity",".8").on("mouseover",function(a,b){m.classed("fade",function(a){return a.source.index!=b&&a.target.index!=b})}).on("mousemove",function(){}).on("mouseout",function(){});l.append("path").style("stroke",d).style("fill",d).attr("d",k);l.append("text").each(function(a){a.angle=
(a.startAngle+a.endAngle)/2}).attr("dy",".35em").style("font-size","90%").attr("text-anchor",function(a){return a.angle>Math.PI?"end":null}).attr("transform",function(a){return"rotate("+(180*a.angle/Math.PI-90)+")translate("+(t+26)+")"+(a.angle>Math.PI?"rotate(180)":"")}).style("fill",d).text(function(a){return e[a.index].key});var m=b.selectAll("chord").data(function(a){return a}).enter().append("path").attr("class","chordpaths").style("fill-opacity",".8").style("stroke-width","25px").style("fill",
function(a,b){return c(b)}).attr("d",h.radius(t))})};b.radius=function(c){if(!arguments.length)return a;a=c;return b};b.matrix=function(a){if(!arguments.length)return f;f=a;return b};b.keys=function(a){if(!arguments.length)return e;e=a;return b};b.colors=function(a){if(!arguments.length)return c;c=a;return b};b.fill=function(a){if(!arguments.length)return d;d=a;return b};return b},wbDonutChart=function(){var a=500,d="black",c=d3.scaleOrdinal(d3.schemeCategory10),f=function(e){e.each(function(b,e,
f){e=d3.select(f[e]);f=d3.pie().value(function(a){return a.percent}).sort(null).padAngle(.03);var k=a/2,h=a/8;h=d3.arc().outerRadius(k).innerRadius(h);e.selectAll("path").data(f(b)).enter().append("path").attr("class","paths").attr("d",h).attr("fill",function(a,b){return c(b)});b=d3.scaleOrdinal().domain(b.map(function(a){return a.label})).range(b.map(function(a,b){return c(b)}));e.append("g").attr("class","legend").attr("transform",function(a,b){return"translate("+(k+10)+","+(-k+10)+")"});b=d3.legendColor().shape("path",
d3.symbol().type(d3.symbolCircle).size(100)()).scale(b);e.select(".legend").call(b).style("fill",d).style("font-size","90%")})};f.radius=function(c){if(!arguments.length)return a;a=c;return f};f.fillLegend=function(a){if(!arguments.length)return d;d=a;return f};f.colors=function(a){if(!arguments.length)return c;c=a;return f};return f};
function wbGeoMap(){var a=500,d=500,c="#666666",f="#555555",e=1,b,k,u=!0,r=function(){},h=function(h){h.each(function(h,m,g){var l=d3.select(g[m]),t,q=function(b){var g=a/2,c=d/2,h=1;null===t||t!==b?(c=A.centroid(b),g=+c[0],c=+c[1],h=2.5,t=b):t=null;l.transition().duration(1E3).attr("transform","translate("+a/2+","+d/2+")scale("+h+")translate("+-g+","+-c+")").style("stroke-width",1.75/h+"px")};g=d3.geoBounds(h);b&&(g=b);m=g[0];g=g[1];var n=-(g[0]+m[0])/2,v=[(g[0]+m[0])/2+n,(g[1]+m[1])/2];k=d3.geoAlbers().parallels([m[1],
g[1]]).translate([a/2,d/2]).rotate([n,0,0]).center(v);var x=k(m),z=k(g);x=1*Math.min(a/(z[0]-x[0]),d/(-z[1]+x[1]));k=d3.geoAlbers().parallels([m[1],g[1]]).rotate([n,0,0]).translate([a/2,d/2]).scale(975*x).center(v);var A=d3.geoPath().projection(k);r=function(){l.selectAll(".wb-feature-paths").exit().remove().data(h.features).enter().append("path").attr("d",A).attr("class","wb-feature-paths").style("fill",c).style("stroke",f).style("stroke-width",e);if(u)l.selectAll(".wb-feature-paths").on("click",
q)};r()})};h.width=function(b){if(!arguments.length)return a;a=b;return h};h.height=function(a){if(!arguments.length)return d;d=a;return h};h.projection=function(a){if(!arguments.length)return k;k=a;return h};h.mapFill=function(a){if(!arguments.length)return c;c=a;return h};h.mapStroke=function(a){if(!arguments.length)return f;f=a;return h};h.boundsManual=function(a){if(!arguments.length)return b;b=a;return h};h.mapStrokeWidth=function(a){if(!arguments.length)return e;e=a;return h};h.allowZoom=function(a){if(!arguments.length)return u;
u=a;return h};h.update=function(){r()};return h}
function wbHeatMap(){var a=500,d=500,c="black",f="#ffffd9 #edf8b1 #c7e9b4 #7fcdbb #41b6c4 #1d91c0 #225ea8 #253494 #081d58".split(" "),e=function(b){b.each(function(b,e,r){e=d3.select(r[e]);b.forEach(function(a){a.day=+a.day;a.hour=+a.hour;a.value=+a.value});r=Array(24);for(var h=0;h<r.length;h++)r[h]=h+"";h="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ");var k=Math.floor(a/24),l=Math.floor(d/h.length);e.selectAll(".dayLabel").data(h).enter().append("text").text(function(a){return a}).attr("x",0).attr("y",
function(a,b){return b*l}).style("text-anchor","end").style("fill",c).attr("dominant-baseline","middle").attr("transform","translate(-6,"+l/2+")");e.selectAll(".timeLabel").data(r).enter().append("text").text(function(a){return a}).attr("x",function(a,b){return b*k}).attr("y",0).style("text-anchor","middle").style("fill",c).attr("transform","translate("+k/2+", -6)");r=e.selectAll(".hour").data(b).enter().append("rect").attr("x",function(a){return a.hour*k}).attr("y",function(a){return(a.day-1)*l}).attr("class",
"hour bordered").attr("width",k).attr("height",l).attr("stroke",c).attr("stroke-width","1").style("fill",c);b=d3.extent(b,function(a){return a.value});var m=d3.scaleQuantile().domain(b).range(f);r.style("fill",function(a){return m(a.value)});b=e.selectAll(".legend").data([0].concat(m.quantiles()),function(a){return a}).enter().append("g");b.append("rect").attr("x",function(a,b){return 2*k*b}).attr("y",d+10).attr("width",2*k).attr("height",l/2).attr("stroke",c).attr("stroke-width","1").style("fill",
function(a,b){return f[b]});b.append("text").attr("dominant-baseline","hanging").text(function(a){return"\u2265 "+Math.round(a)}).attr("x",function(a,b){return 2*k*b}).attr("y",d+l).style("fill",c)})};e.width=function(b){if(!arguments.length)return a;a=b;return e};e.height=function(a){if(!arguments.length)return d;d=a;return e};e.colors=function(a){if(!arguments.length)return f;f=a;return e};e.fill=function(a){if(!arguments.length)return c;c=a;return e};return e}
function wbLinePlot(){var a=500,d=500,c=d3.scaleLinear(),f=d3.scaleLinear(),e="x",b=["y"],k=function(a){return a},u=function(a){return a},r,h,t,l,m=!1,g=["red"],w=1,B="white",q=[d3.curveBasis],n="black",v=0,x=0,z="red",A=!1,C=function(){},p=function(y){y.each(function(y,u,B){var p=d3.select(B[u]);if(2*b.length!=q.length+g.length)throw Error("If you enter more than one y-data-point, you need to set the curve and stroke options with equally-sized arrays.");u=p.append("g").attr("font-size","75%").attr("text-anchor",
"end").attr("transform","translate("+v+","+x+")").selectAll("g").data(b).enter().append("g").attr("transform",function(a,b){return"translate(0,"+20*b+")"});u.append("rect").attr("x",-19).attr("width",19).attr("height",19).attr("fill",function(a,b){return g[b]});u.append("text").attr("x",-22).attr("y",9.5).attr("dy","0.32em").text(function(a){return a}).attr("fill",n);if(A){p.append("line").attr("class","tooltip-line");p.append("text").attr("class","tooltip-text").attr("x",5).attr("y",0).style("font-size",
"85%").attr("text-anchor","start").attr("dominant-baseline","hanging").style("fill",n);b.forEach(function(a,b){p.append("circle").attr("class","tooltip-circle tooltip-circle-"+a)});var D=p.append("rect").attr("class","selector-box").attr("width",a).attr("height",d).attr("opacity",0)}C=function(y){void 0===t&&(t=d3.extent(y,function(a){return a[e]}));void 0===l&&(l=d3.extent(y.map(function(a){return b.map(function(b){return+a[b]})}).reduce(function(a,b){return a.concat(b)})),m&&(l[0]=0));r=c.rangeRound([0,
a]).domain(t);h=f.rangeRound([d,0]).domain(l);b.forEach(function(a,c){a=d3.line().curve(q[c]).x(function(a){return r(a[e])}).y(function(a){return h(a[b[c]])});var d="line-"+b[c];p.select("."+d).empty()?p.datum(y).append("path").attr("class","line "+d).attr("d",a).style("fill","none").style("stroke-linecap","round").style("stroke-linejoin","round").style("pointer-events","none").style("stroke-width",w).style("stroke",g[c]):p.datum(y).select("."+d).transition().duration(500).attr("d",a)})};C(y);u=function(){p.selectAll(".tooltip-line").attr("stroke",
"none");p.selectAll(".tooltip-circle").style("opacity",0);p.selectAll(".tooltip-text").style("opacity",0)};if(A)D.on("mousemove",function(){var a=[],c=d3.mouse(p.node()),f=d3.bisector(function(a){return a[e]}).right,l=r.invert(c[0]);c=f(y,l);var m=y[c-1];a.push(k(m[e]));var v=y[c];p.selectAll(".tooltip-line").attr("stroke","red").attr("x1",r(l)).attr("x2",r(l)).attr("y1",0).attr("y2",d);b.forEach(function(c,d){var y=d3.interpolateNumber(m[b[d]],v[b[d]]),f=v[e]-m[e];y=y(l%f/f);a.push(c+" \u2013 "+
m[b[d]]);p.select(".tooltip-circle-"+c).attr("cx",r(l)).attr("cy",h(y)).attr("r",7).style("fill",g[d]).style("opacity",1)});c=p.selectAll(".tooltip-text").style("opacity",1);p.selectAll(".tooltip-text-line").remove();for(f={i$1:0};f.i$1<a.length;f={i$1:f.i$1},f.i$1++)c.append("tspan").attr("class","tooltip-text-line").attr("x",5).attr("dy",function(a){return function(){return 0==a.i$1?0:15}}(f)).text(a[f.i$1])}).on("mouseout",u)})};p.width=function(b){if(!arguments.length)return a;a=b;return p};p.height=
function(a){if(!arguments.length)return d;d=a;return p};p.xAxisScale=function(a){if(!arguments.length)return c;c=a;return p};p.yAxisScale=function(a){if(!arguments.length)return f;f=a;return p};p.xDataPoints=function(a){if(!arguments.length)return e;e=a;return p};p.yDataPoints=function(a){if(!arguments.length)return b;b=a.constructor===Array?a:[a];return p};p.axisColor=function(a){if(!arguments.length)return B;B=a;return p};p.stroke=function(a){if(!arguments.length)return g;g=a.constructor===Array?
a:[a];return p};p.curve=function(a){if(!arguments.length)return q;q=a.constructor===Array?a:[a];return p};p.scaleX=function(){return r};p.scaleY=function(){return h};p.update=function(a){C(a);return p};p.xMinMax=function(a){if(!arguments.length)return t;t=a;return p};p.yMinMax=function(a){if(!arguments.length)return l;l=a;return p};p.legendFill=function(a){if(!arguments.length)return n;n=a;return p};p.legendX=function(a){if(!arguments.length)return v;v=a;return p};p.legendY=function(a){if(!arguments.length)return x;
x=a;return p};p.strokeWidth=function(a){if(!arguments.length)return w;w=a;return p};p.setYMinToZero=function(a){if(!arguments.length)return m;m=a;return p};p.dataPointLineFill=function(a){if(!arguments.length)return z;z=a;return p};p.xDataPointsFormat=function(a){if(!arguments.length)return k;k=a;return p};p.yDataPointsFormat=function(a){if(!arguments.length)return u;u=a;return p};p.activateTooltip=function(a){if(!arguments.length)return A;console.log("ATTENTION: This feature is experimental.");A=
a;return p};return p}
function wbNetworkDiagram(){var a=500,d=500,c="black",f="black",e=1,b="black",k=[1,10],u=[5,20],r,h=0,t=0,l=.5,m=["red","green","blue"],g=function(g){g.each(function(g,w,n){w=d3.select(n[w]);var v=d3.scaleLinear().domain(d3.extent(g.nodes,function(a){return a.weight})).range(u),q=d3.scaleLinear().domain(d3.extent(g.links,function(a){return a.value})).range(k);g.nodes.forEach(function(a){a.r=v(a.weight)});var B=w.append("g").selectAll("line").data(g.links).enter().append("line").attr("class","lines").attr("stroke-width",
function(a){return q(a.value)}).style("stroke",c).style("stroke-opacity","0.6"),A=w.append("g").selectAll("circle").data(g.nodes).enter().append("circle").attr("class","circles").attr("r",function(a){return a.r}).attr("fill",function(a){return m[a.group]}).style("stroke",f).style("stroke-width",e).call(d3.drag().on("start",function(a){d3.event.active||C.alphaTarget(.5).restart();a.fx=a.x;a.fy=a.y}).on("drag",function(a){a.fx=d3.event.x;a.fy=d3.event.y}).on("end",function(a){d3.event.active||C.alphaTarget(0);
a.fx=null;a.fy=null})),C=d3.forceSimulation().force("x",d3.forceX(a)).force("y",d3.forceY(d)).force("center",d3.forceCenter(a/2,d/2)).force("charge",d3.forceManyBody()).force("collide",d3.forceCollide().radius(function(a){return a.r+l}).iterations(3)).force("link",d3.forceLink().id(function(a){return a.id}));C.nodes(g.nodes).on("tick",function(){A.attr("cx",function(b){return b.x=Math.max(b.r,Math.min(a-b.r,b.x))}).attr("cy",function(a){return a.y=Math.max(a.r,Math.min(d-a.r,a.y))});B.attr("x1",function(a){return a.source.x}).attr("y1",
function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y})});C.force("link").links(g.links);if(void 0===r){var p=[];g.nodes.forEach(function(a){p.push(a.group)});g=Array.from(new Set(p.sort()));r=[];for(n=0;n<g.length;n++)r.push([g[n],m(g[n])])}g=w.append("g").attr("font-size","75%").attr("text-anchor","end").selectAll("g").data(r).enter().append("g").attr("transform",function(a,b){return"translate(0,"+(20*b+10)+")"});g.append("rect").attr("x",
a-19+h).attr("y",0+t).attr("width",19).attr("height",19).attr("fill",function(a){return a[1]});g.append("text").attr("x",a-24+h).attr("y",9.5+t).attr("dy","0.32em").attr("fill",b).text(function(a){return a[0]})})};g.legendShiftX=function(a){if(!arguments.length)return h;h=a;return g};g.legendShiftY=function(a){if(!arguments.length)return t;t=a;return g};g.width=function(b){if(!arguments.length)return a;a=b;return g};g.height=function(a){if(!arguments.length)return d;d=a;return g};g.linkStroke=function(a){if(!arguments.length)return c;
c=a;return g};g.nodeStroke=function(a){if(!arguments.length)return f;f=a;return g};g.nodeStrokeWidth=function(a){if(!arguments.length)return e;e=a;return g};g.legend=function(a){if(!arguments.length)return r;r=a;return g};g.legendColor=function(a){if(!arguments.length)return b;b=a;return g};g.colors=function(a){if(!arguments.length)return m;m=a;return g};g.collide=function(a){if(!arguments.length)return l;l=a;return g};g.thicknessRange=function(a){if(!arguments.length)return k;k=a;return g};g.radiusRange=
function(a){if(!arguments.length)return u;u=a;return g};return g}
function wbNumericHistogram(){var a=500,d=500,c="red",f="white",e=50,b=function(){},k=function(k){k.each(function(k,h,u){function l(h){q.domain(h);var l=d3.histogram().value(function(a){return a.value}).domain(q.domain()).thresholds(q.ticks(e))(k);h=d3.extent(l,function(a){return a.length});v.domain(h);y.selectAll(".bar").remove().exit().data(l).enter().append("rect").attr("class","bar").attr("fill",c).attr("width",function(b,c){b=a/l.length;return b-.1*b}).attr("height",function(a){return d-v(a.length)}).attr("y",
function(a){return v(a.length)}).transition(n).attr("x",function(a){return q(a.x0)});g.select(".axis-x").transition(n).call(x);g.select(".axis-y").transition(n).call(z);g.selectAll(".axis line").attr("stroke",f);g.selectAll(".axis path").attr("stroke",f);g.selectAll(".axis text").attr("fill",f);b()}function m(){C=null}var g=d3.select(u[h]),t,r=d3.extent(k,function(a){return a.value}),q=d3.scaleLinear().rangeRound([0,a]),n=g.transition().duration(750),v=d3.scaleLinear().rangeRound([d,0]),x=d3.axisBottom(q),
z=d3.axisLeft(v),A=d3.brushX().extent([[0,0],[a,d]]).on("end",function(){var a=d3.event.selection;if(a)t=[q.invert(a[0])<r[0]?r[0]:q.invert(a[0]),q.invert(a[1])>r[1]?r[1]:q.invert(a[1])],g.select(".brush").call(A.move,null);else{if(!C)return C=setTimeout(m,p);t=r}l(t)}),C=null,p=350;g.append("g").attr("class","brush").call(A);var y=g.append("g");g.append("g").attr("transform","translate(0,"+d+")").attr("class","axis axis-x");g.append("g").attr("class","axis axis-y");l(r)})};k.height=function(a){if(!arguments.length)return d;
d=a;return k};k.width=function(b){if(!arguments.length)return a;a=b;return k};k.barColor=function(a){if(!arguments.length)return c;c=a;return k};k.axisColor=function(a){if(!arguments.length)return f;f=a;return k};k.numBins=function(a){if(!arguments.length)return e;e=a;return k};k.updateCallback=function(a){if(!arguments.length)return b;b=a;return k};return k}
function wbPackedBubbles(){var a=500,d=500,c=["green","white"],f=["green","red"],e,b=function(b){b.each(function(b,k,h){k=d3.select(h[k]);h=d3.extent(b,function(a){return a.value});var t=d3.scaleLinear().domain(h).interpolate(d3.interpolate).range(c),l=d3.scaleLinear().domain(h).interpolate(d3.interpolate).range(f),m;e&&(m=d3.scaleLog().domain(h).range(e));h=d3.pack().size([a,d]).padding(.3);b=d3.hierarchy({children:b}).sum(function(a){return a.value});b=k.selectAll("node").data(h(b).leaves()).enter().append("g").attr("class",
"node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"});b.append("a").attr("xlink:href",function(a){return a.data.link}).append("circle").attr("class","circles").attr("id",function(a){return a.id}).transition().duration(500).attr("r",function(a){return a.r}).style("fill",function(a){return l(a.value)}).style("opacity",function(a){return e?m(a.value):"1.0"});b.append("a").attr("xlink:href",function(a){return a.data.link}).append("text").attr("class","texts").style("font-size","10px").style("text-anchor",
"middle").style("dominant-baseline","middle").attr("x",0).attr("y",0).text(function(a){return a.data.id}).style("font-size",function(a,b,c){return(2*a.r-10)/c[b].getComputedTextLength()*10+"px"}).style("opacity",function(a){return e?m(a.value):"1.0"}).transition().duration(1E3).style("fill",function(a){return t(a.value)})})};b.width=function(c){if(!arguments.length)return a;a=c;return b};b.height=function(a){if(!arguments.length)return d;d=a;return b};b.colorRange=function(a){if(!arguments.length)return c;
c=a;return b};b.fillRange=function(a){if(!arguments.length)return f;f=a;return b};b.fadeOpacity=function(a){if(!arguments.length)return e;e=a;return b};return b}
function wbSankeyDiagram(){var a=500,d=500,c="black",f=d3.scaleOrdinal(d3.schemeCategory20c),e=function(b){b.each(function(b,e,r){e=d3.select(r[e]);var h=d3.format(",.0f"),k=d3.sankey().nodeWidth(15).nodePadding(10).size([a,d]),l=k.link();k.nodes(b.nodes).links(b.links).layout(32);var m=e.selectAll(".sankey-link").data(b.links).enter().append("path").attr("class","sankey-link").style("fill","none").style("stroke",c).style("stroke-opacity",.2).attr("d",l).style("stroke-width",function(a){return Math.max(1,
a.dy)}).sort(function(a,b){return b.dy-a.dy});m.append("title").text(function(a){return a.source.name+" \u2192 "+a.target.name+"\n"+(h(a.value)+" TWh")});b=e.selectAll(".sankey-node").data(b.nodes).enter().append("g").attr("class","sankey-node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(d3.drag().subject(function(a){return a}).on("start",function(a,b,c){c[b].parentNode.appendChild(c[b])}).on("drag",function(a,b,c){d3.select(c[b]).attr("transform","translate("+a.x+","+
(a.y=Math.max(0,Math.min(d-a.dy,d3.event.y)))+")");k.relayout();m.attr("d",l)}));b.append("rect").style("cursor","move").style("shape-rendering","crispEdges").attr("height",function(a){return a.dy}).attr("width",k.nodeWidth()).style("fill",function(a){return a.color=f(a.name.replace(/ .*/,""))}).style("stroke",function(a){return c}).append("title").text(function(a){return a.name+"\n"+(h(a.value)+" TWh")});b.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor",
"end").attr("fill",c).attr("transform",null).text(function(a){return a.name}).filter(function(b){return b.x<a/2}).attr("x",6+k.nodeWidth()).attr("text-anchor","start")})};e.width=function(b){if(!arguments.length)return a;a=b;return e};e.height=function(a){if(!arguments.length)return d;d=a;return e};e.fill=function(a){if(!arguments.length)return c;c=a;return e};e.colors=function(a){if(!arguments.length)return f;f=a;return e};return e}
function wbScatterPlot(){var a=500,d=500,c=d3.scaleLinear(),f=d3.scaleLinear(),e=d3.scaleLinear(),b="green",k="red",u="x",r="y",h="x",t="white",l=function(){},m=void 0,g=[0,1],w=function(a){return a},B=function(a){return a},q=function(){},n=function(v){v.each(function(v,n,A){var x=d3.select(A[n]),p=d3.extent(v,function(a){return a[u]}),y=d3.extent(v,function(a){return a[r]}),D=d3.extent(v,function(a){return a[h]});x.selectAll(".datapoint").data(v).enter().append("a").attr("xlink:href",l).append("rect").attr("class",
"datapoint").attr("width",8).attr("height",8).attr("rx",5);x.append("g").attr("class","axis axis-x").attr("transform","translate(0,"+d+")");x.append("g").attr("class","axis axis-y");var z,E,H,I,F,G;q=function(l){l=l||!1;void 0!==m&&(I=d3.scaleLog().domain(d3.extent(v,function(a){return a[m]})).range(g));z=c.range([0,a]).domain(p);E=f.range([d,0]).domain(y);H=e.domain(D).interpolate(d3.interpolate).range([b,k]);G=d3.axisLeft(E);B(G);F=d3.axisBottom(z);w(F);x.select(".axis-x").transition().duration(500).call(F);
x.select(".axis-y").transition().duration(500).call(G);x.selectAll(".axis line").attr("stroke",t);x.selectAll(".axis path").attr("stroke",t);x.selectAll(".axis text").attr("fill",t);(l?x.selectAll(".datapoint"):x.selectAll(".datapoint").transition().duration(500)).attr("opacity",function(a){return void 0!==m?I(a[m]):1}).attr("x",function(a){return z(a[u])-4}).attr("y",function(a){return E(a[r])-4}).style("fill",function(a){return H(a[h])})};q(!0)})};n.width=function(b){if(!arguments.length)return a;
a=b;return n};n.height=function(a){if(!arguments.length)return d;d=a;return n};n.xAxisScale=function(a){if(!arguments.length)return c;c=a;return n};n.yAxisScale=function(a){if(!arguments.length)return f;f=a;return n};n.zAxisScale=function(a){if(!arguments.length)return e;e=a;return n};n.xDataPoints=function(a){if(!arguments.length)return u;u=a;return n};n.yDataPoints=function(a){if(!arguments.length)return r;r=a;return n};n.zDataPoints=function(a){if(!arguments.length)return h;h=a;return n};n.opacityDataPoints=
function(a){if(!arguments.length)return m;m=a;return n};n.opacityRange=function(a){if(!arguments.length)return g;g=a;return n};n.axisColor=function(a){if(!arguments.length)return t;t=a;return n};n.colorLow=function(a){if(!arguments.length)return b;b=a;return n};n.colorHigh=function(a){if(!arguments.length)return k;k=a;return n};n.href=function(a){if(!arguments.length)return l;l=a;return n};n.formatXAxis=function(a){if(!arguments.length)return w;w=a;return n};n.formatYAxis=function(a){if(!arguments.length)return B;
B=a;return n};n.update=function(){q();return n};return n}
function wbStackedBarChart(){var a=500,d=500,c="x",f="y",e=["red","green","blue"],b="black",k=0,u=0,r=[],h,t,l=!1,m=function(c){c.each(function(c,g,f){g=d3.select(f[g]);c.forEach(function(a,b){var c=Object.keys(a);for(b=a.total=0;b<c.length;++b)r.includes(c[b])||"id"==c[b]||(a.total+=+a[c[b]])});l&&c.sort(function(a,b){return b.total-a.total});h=d3.scaleBand().rangeRound([0,a]).paddingInner(.05).align(.1);t=d3.scaleLinear().rangeRound([d,0]);var m=d3.scaleOrdinal().range(e);h.domain(c.map(function(a){return a.id}));
t.domain([0,d3.max(c,function(a){return a.total})]).nice();f=c.columns.filter(function(a){return"id"!=a&&!r.includes(a)});m.domain(f);c=d3.stack().keys(f)(c);c.forEach(function(a){a.forEach(function(b){b.keyRef=a.key})});g.append("g").selectAll("g").data(c).enter().append("g").attr("fill",function(a){return m(a.key)}).selectAll("rect").data(function(a,b){return a}).enter().append("rect").attr("class","rects").attr("x",function(a){return h(a.data.id)}).attr("y",function(a){return t(a[1])}).attr("height",
function(a){return t(a[0])-t(a[1])}).attr("width",h.bandwidth());c=g.append("g").attr("font-size","75%").attr("text-anchor","end").attr("transform","translate("+k+","+u+")").selectAll("g").data(f.slice()).enter().append("g").attr("transform",function(a,b){return"translate(0,"+20*b+")"});c.append("rect").attr("x",-19).attr("width",19).attr("height",19).attr("fill",m);c.append("text").attr("x",-22).attr("y",9.5).attr("dy","0.32em").text(function(a){return a}).attr("fill",b)})};m.width=function(b){if(!arguments.length)return a;
a=b;return m};m.height=function(a){if(!arguments.length)return d;d=a;return m};m.xSelector=function(a){if(!arguments.length)return c;c=a;return m};m.ySelector=function(a){if(!arguments.length)return f;f=a;return m};m.scaleX=function(a){if(!arguments.length)return h;h=a;return m};m.scaleY=function(a){if(!arguments.length)return t;t=a;return m};m.colors=function(a){if(!arguments.length)return e;e=a;return m};m.legendFill=function(a){if(!arguments.length)return b;b=a;return m};m.legendX=function(a){if(!arguments.length)return k;
k=a;return m};m.legendY=function(a){if(!arguments.length)return u;u=a;return m};m.sortBySum=function(a){if(!arguments.length)return l;l=a;return m};m.ignoreColumns=function(a){if(!arguments.length)return r;r=a;return m};return m}
function wbStaticNumbers(){var a=500,d=500,c="black",f="red",e=function(b){b.each(function(b,e,r){e=d3.select(r[e]);var h=a/b.length,k=.1*a/(b.length-1);e.selectAll("number-value").data(b).enter().append("text").text(function(a){return a.name}).attr("x",function(a,b){return b*h}).attr("y",d).attr("text-anchor","left").attr("dominant-baseline","baseline").attr("fill",c).style("font-size","20px").style("font-weight","bold").text(function(a){return a.value}).style("font-size",function(a,b,c){a=c[b].getComputedTextLength();
return(h-k)/a*20+"px"}).each(function(a,b,c){a.numberBox=c[b].getBBox()});e.selectAll("number-label").data(b).enter().append("text").text(function(a){return a.name}).attr("x",function(a,b){return b*h}).attr("y",function(a){return d-a.numberBox.height+.25*a.numberBox.height}).attr("text-anchor","left").attr("fill",f).style("font-size","20px").text(function(a){return a.label}).style("font-size",function(a,b,c){a=c[b].getComputedTextLength();return(h-k)/a*20+"px"}).each(function(a,b,c){a.numberBox=c[b].getBBox()})})};
e.width=function(b){if(!arguments.length)return a;a=b;return e};e.height=function(a){if(!arguments.length)return d;d=a;return e};e.fillNumber=function(a){if(!arguments.length)return c;c=a;return e};e.fillLabel=function(a){if(!arguments.length)return f;f=a;return e};return e}
function wbTimeseries(){var a=500,d=500,c="hour",f="red",e="orange",b="black",k=void 0,u=d3.mean,r,h,t,l=function(m){m.each(function(g,m,l){m=d3.select(l[m]);var q=d3.extent(g,function(a){return a.date});g.forEach(function(a){a.month=a.date.getMonth();a.year=a.date.getFullYear();a.weekday=a.date.getDay();a.hour=a.date.getHours();a.minute=a.date.getMinutes();a.day=(new Date(a.date)).setHours(0,0,0,0);a["minute-of-day"]=(new Date(a.date)).setSeconds(0,0)});l=d3.extent(g,function(a){return a[c]});if("month"==
c){var n=d3.timeMonths(new Date(2017,0,1),new Date(2017,11,31));var v=d3.timeFormat("%B")}else if("year"==c){n=d3.timeYears(new Date(l[0],0,1),new Date(l[1],12,1));v=function(a){return a};var w=[];n.forEach(function(a){w.push(a.getFullYear())});n=w}else"weekday"==c?(n=[0,1,2,3,4,5,6],v=d3.timeFormat("%A")):"day"==c?(n=d3.timeDays(q[0],q[1]),v=d3.timeFormat("%d.%m.%Y")):"minute-of-day"==c&&(n=d3.timeMinutes(q[0]-6E4,q[1]),v=d3.timeFormat("%H:%M"));r=d3.scaleOrdinal().domain(n).range(d3.range(0,a,a/
n.length));var z=a/n.length*.1;g=d3.histogram().value(function(a){return a[c]}).thresholds(n)(g);l=d3.max(g,function(a){return a.length});h=d3.scaleLinear().range([d,0]).domain([0,l+1]);l=d3.extent(g,function(a){return a.length});var A=a/n.length-z;m.selectAll("rect").data(g).enter().append("rect").attr("class","rects").attr("x",0).attr("fill",function(a){return f}).attr("transform",function(a){return"translate("+r(a.x0)+","+h(a.length)+")"}).attr("width",function(a){return A}).attr("height",function(a){return d-
h(a.length)});if(k){g.forEach(function(a){var b=[];a.forEach(function(a){b=b.concat(a.value)});a.mean=u(b)});var B=d3.scaleOrdinal().domain(n).range(d3.range(0,a,a/n.length)),p=a/n.length*.8;l=d3.max(g,function(a){return a.mean});t=d3.scaleLinear().range([d,0]).domain([0,l+1]);m.selectAll(".dim").data(g).enter().append("rect").attr("class","valuerects").attr("fill",function(a){return e}).attr("transform",function(b){var c=A/2-a/n.length*.1;return"translate("+(B(b.x0)+c)+","+t(b.mean)+")"}).attr("width",
function(b){return a/n.length-p}).attr("height",function(a){return d-t(a.mean)})}m=m.append("g").attr("transform","translate(0,"+d+")").selectAll("xaxis").data(g).enter();m.append("line").attr("x1",0).attr("x2",a).style("stroke",b);m.append("text").text(function(a,b){if("weekday"!=c)return v(n[b]);a=d3.timeDays(new Date(2017,0,1),new Date(2017,0,8));return v(a[n[b]])}).style("text-anchor","middle").style("font-size","70%").style("fill",b).attr("x",function(b,c){return a/n.length*c+a/n.length/2-z/
2}).attr("y",function(a,b,c){return c[b].getBBox().height+5});m.append("line").attr("x1",function(b,c){return a/n.length*c+a/n.length/2-z/2}).attr("x2",function(b,c){return a/n.length*c+a/n.length/2-z/2}).attr("y1",0).attr("y2",5).style("stroke",b)})};l.width=function(b){if(!arguments.length)return a;a=b;return l};l.height=function(a){if(!arguments.length)return d;d=a;return l};l.target=function(a){if(!arguments.length)return c;c=a;return l};l.fill=function(a){if(!arguments.length)return f;f=a;return l};
l.fillValues=function(a){if(!arguments.length)return e;e=a;return l};l.fillAxis=function(a){if(!arguments.length)return b;b=a;return l};l.scaleX=function(a){if(!arguments.length)return r;r=a;return l};l.scaleY=function(a){if(!arguments.length)return h;h=a;return l};l.scaleY2=function(a){if(!arguments.length)return t;t=a;return l};l.valueColumn=function(a){if(!arguments.length)return k;k=a;return l};l.valueColumnAggregation=function(a){if(!arguments.length)return u;u=a;return l};return l}
function wbTreeMap(){var a=500,d=500,c=d3.scaleOrdinal(d3.schemeCategory20c),f="black",e=function(b){b.each(function(b,e,r){e=d3.select(r[e]);r=d3.treemap().tile(d3.treemapResquarify).size([a,d]).round(!0).paddingInner(1.5);b=d3.hierarchy(b).eachBefore(function(a){a.data.id=(a.parent?a.parent.data.id+".":"")+a.data.name}).sum(function(a){return a.size}).sort(function(a,b){return b.height-a.height||b.value-a.value});r(b);b=e.selectAll("g").data(b.leaves()).enter().append("g").attr("class","cells").attr("transform",
function(a){return"translate("+a.x0+","+a.y0+")"});b.append("rect").attr("id",function(a){return a.data.id}).attr("width",function(a){return a.x1-a.x0}).attr("height",function(a){return a.y1-a.y0}).attr("fill",function(a){return c(a.parent.data.id)});b.append("clipPath").attr("id",function(a){return"clip-"+a.data.id}).append("use").attr("xlink:href",function(a){return"#"+a.data.id});b.append("text").style("font-size","75%").attr("clip-path",function(a){return"url(#clip-"+a.data.id+")"}).selectAll("tspan").data(function(a){return a.data.name.split(/(?=[A-Z][^A-Z])/g)}).enter().append("tspan").attr("x",
4).attr("y",function(a,b){return 13+10*b}).attr("fill",f).text(function(a){return a})})};e.width=function(b){if(!arguments.length)return a;a=b;return e};e.height=function(a){if(!arguments.length)return d;d=a;return e};e.colors=function(a){if(!arguments.length)return c;c=a;return e};e.fill=function(a){if(!arguments.length)return f;f=a;return e};return e}
function wbWordCloud(){var a=500,d=500,c=["green","green"],f=function(e){e.each(function(b,e,f){var k=d3.select(f[e]);b.forEach(function(a){a.fontsize=1E4*+a.textrank});e=d3.extent(b,function(a){return a.textrank});var h=d3.scaleLinear().domain(e).interpolate(d3.interpolate).range(c);d3.layout.cloud().size([a,d]).words(b).padding(1).rotate(0).font("Roboto Condensed").fontSize(function(a){return a.fontsize}).on("end",function(b){k.attr("transform","translate("+a/2+","+d/2+")");b=k.selectAll("text").data(b,
function(a){return a.text});b.enter().append("text").style("fill",function(a){return h(a.textrank)}).attr("text-anchor","middle").attr("font-size",function(a){return a.size+"px"}).attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).text(function(a){return a.text});b.exit().remove()}).start()})};f.width=function(c){if(!arguments.length)return a;a=c;return f};f.height=function(a){if(!arguments.length)return d;d=a;return f};f.colorRange=function(a){if(!arguments.length)return c;
c=a;return f};return f};