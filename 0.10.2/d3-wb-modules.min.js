var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,c){b!=Array.prototype&&b!=Object.prototype&&(b[d]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,d,c,l){if(d){c=$jscomp.global;b=b.split(".");for(l=0;l<b.length-1;l++){var e=b[l];e in c||(c[e]={});c=c[e]}b=b[b.length-1];l=c[b];d=d(l);d!=l&&null!=d&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:d})}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var c=0,l={next:function(){if(c<b.length){var e=c++;return{value:d(e,b[e]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};$jscomp.polyfill("Array.prototype.entries",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(d,c){return[d,c]})}},"es6","es3");
$jscomp.polyfill("Object.is",function(b){return b?b:function(d,c){return d===c?0!==d||1/d===1/c:d!==d&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(d,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;for(c=c||0;c<e;c++)if(b[c]==d||Object.is(b[c],d))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(b,d,c){if(null==b)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return b+""};$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(d,c){return-1!==$jscomp.checkStringArgs(this,d,"includes").indexOf(d,c||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(d,c){return c})}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(d,c){var b=$jscomp.checkStringArgs(this,d,"startsWith");d+="";var e=b.length,h=d.length;c=Math.max(0,Math.min(c|0,b.length));for(var a=0;a<h&&c<e;)if(b[c++]!=d[a++])return!1;return a>=h}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,c){var d=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===c&&(c=d.length);c=Math.max(0,Math.min(c|0,d.length));for(var e=b.length;0<e&&0<c;)if(d[--c]!=b[--e])return!1;return 0>=e}},"es6","es3");
(function(b,d){if(void 0===b.d3wb)throw Error("d3wb required but not loaded.");"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b.d3wb.util=b.d3wb.util||{})})(this,function(b){var d=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};d3wb.util={setLocale:function(c){if("de"==c)d3.timeFormat=d3.timeFormatLocale({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM",
"PM"],days:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),shortDays:"So Mo Di Mi Do Fr Sa".split(" "),months:"Januar Februar M\u00e4rz April Mai Juni Juli August September Oktober November Dezember".split(" "),shortMonths:"Jan Feb Mrz Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" ")}).format;else throw Error("Unsupported locale.");},changeCSVSeparator:function(c){d3.csv=function(b,d){d3.request(b).mimeType("text/csv").response(function(b){return d3.dsvFormat(c).parse(b.responseText)}).get(d)}},
smoothData:function(c,b,d,h){var a=[],g=[];c.forEach(function(f,r){r+=1;a.push(f[d]);if(0==r%h||r==c.length)f=d3.median(a),g.push(f),a=[]});var k=[],f=0,u=0,e;for(e in g)if(Object.prototype.hasOwnProperty.call(g,e)){f+=h;for(var l=f>c.length?c.length%h:h,q=d3.interpolate(0==e?c[0][d]:g[e-1],g[e]),n=1/l,r=0,m=0;m<l;m++){r+=n;var w={};w[b]=c[u][b];w[d]=q(r);k.push(w);u+=1}}return k},countCsvColumn:function(c,b,d,h){d=void 0===d?!0:d;c=d3.nest().key(function(a){return a[b]}).entries(c);void 0!==h&&0<
h.length&&(c=c.filter(function(a){return!h.includes(a.key)}));for(var a=[],g=0;g<c.length;g++)a.push({label:c[g].key,count:+c[g].values.length});var k=d3.sum(a,function(a){return+a.count});a.forEach(function(a){a.percent=+a.count/k*100});d&&a.sort(function(a,c){return c.percent-a.percent});return a},websafeGuid:function(){return d3wb.prefix(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d())},websafeShortGuid:function(){return d3wb.prefix(d()+d())},injectCSS:function(c){var b=document.getElementsByTagName("head")[0],
d=document.createElement("style");d.styleSheet?d.styleSheet.cssText=c:d.appendChild(document.createTextNode(c));b.appendChild(d)},logSVGSize:function(c){c=c.ownerSVGElement.getBBox();console.log(c.x+" x "+c.y+" | "+c.width+" x "+c.height)},jsonAttributeMapToCSV:function(c){var b=["key"],d=c[Object.keys(c)[0]];for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&b.push(a);d=['"'+b.join('","')+'"'];for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var a=[h];for(var g in b)0!=g&&a.push(c[h][b[g]]);
d.push('"'+a.join('","')+'"')}c=d.join("\n");return d3.csvParse(c)},getBoundingBoxCenter:function(c){c=d3.select(c).node().getBBox();return[c.x+c.width/2,c.y+c.height/2]},makeUnselectable:function(){return function(c){c.each(function(c,b,d){d3.select(d[b]).style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("pointer-style","none")})}},autocastNumericColumns:function(c){if(void 0===c)throw Error("Provided dataset is undefined.");
if(!c.columns)throw Error("Dataset for auto-casting does not contain a columns attribute, i.e., doesn't seem to be an d3-like array of objects.");c.forEach(function(b){for(var d in c.columns)if(c.columns.hasOwnProperty(d)){var h=c.columns[d];b[h]=isNaN(b[h])?b[h]:+b[h]}})},symbol:{mean:"\u00d8",median:"x\u0303",sum:"\u03a3"}}});
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b.d3wb.theme=b.d3wb.theme||{})})(this,function(b){var d="light",c={dark:{background:"#1D1F21",black:"#282A2E",blue:"#5F819D",cyan:"#5E8D87",foreground:"#C5C8C6",green:"#8C9440",magenta:"#85678F",red:"#A54242",white:"#707880",yellow:"#DE935F"},eqie6:{background:"#111111",black:"#222222",blue:"#66A9B9",cyan:"#6D878D",foreground:"#CCCCCC",green:"#B7CE42",magenta:"#B7416E",
red:"#E84F4F",white:"#CCCCCC",yellow:"#FEA63C"},google:{background:"#FFFFFF",black:"#1D1F21",blue:"#3971ED",cyan:"#3971ED",foreground:"#373B41",green:"#198844",magenta:"#A36AC7",red:"#CC342B",white:"#C5C8C6",yellow:"#FBA922"},gotham:{background:"#0A0F14",black:"#0A0F14",blue:"#195465",cyan:"#33859D",foreground:"#98D1CE",green:"#26A98B",magenta:"#4E5165",red:"#C33027",white:"#98D1CE",yellow:"#EDB54B"},light:{background:"#FFFFFF",black:"#000000",blue:"#87AFDF",cyan:"#AFDFDF",foreground:"#1A1D1D",green:"#AFD787",
magenta:"#DFAFDF",red:"#D78787",white:"#FFFFFF",yellow:"#FFFFAF"},monokai:{background:"#272822",black:"#272822",blue:"#66D9EF",cyan:"#A1EFE4",foreground:"#F8F8F2",green:"#A6E22E",magenta:"#AE81FF",red:"#F92672",white:"#F8F8F2",yellow:"#F4BF75"},ocean:{background:"#2B303B",black:"#2B303B",blue:"#8FA1B3",cyan:"#96B5B4",foreground:"#C0C5CE",green:"#A3BE8C",magenta:"#B48EAD",red:"#BF616A",white:"#C0C5CE",yellow:"#EBCB8B"},sweetlove:{background:"#1F1F1F",black:"#4A3637",blue:"#535C5C",cyan:"#6D715E",foreground:"#C0B18B",
green:"#7B8748",magenta:"#775759",red:"#D17B49",white:"#C0B18B",yellow:"#AF865A"},tomorrowlight:{background:"#FFFFFF",black:"#1D1F21",blue:"#81A2BE",cyan:"#8ABEB7",foreground:"#373B41",green:"#B5BD68",magenta:"#B294BB",red:"#CC6666",white:"#C5C8C6",yellow:"#F0C674"},yousay:{background:"#F5E7DE",black:"#666661",blue:"#4C7399",cyan:"#D97742",foreground:"#34302D",green:"#4C3226",magenta:"#BF9986",red:"#992E2E",white:"#34302D",yellow:"#A67C53"}},l=function(a){for(var c=[],b=0;b<a.length;b++)a[b].startsWith("#")?
c.push(""+d3.rgb(a[b])):c.push(""+d3wb.color(a[b]));return c},e=function(){for(var a=["blue","red","green","magenta","foreground"],c=[],b=0;b<a.length;b++){var d=d3wb.color.lohiScaleArray(a[b],5,[.6,.6]);c=c.concat(d)}return c},h=function(){for(var a="blue cyan green magenta red yellow foreground".split(" "),c=[],b=0;b<a.length;b++)c.push(q(a[b]));return c},a=function(a,b,c,d){a=q(a);b=q(b);a=d3.interpolateRgb(a,b);d=d||[0,1];if(2>=c)a=[a(0),a(1)];else{c=(d[1]-d[0])/c;b=d[0]+c;var f=[];f.push(a(d[0]));
do f.push(a(b)),b+=c;while(b<d[1]-c-.0001);f.push(a(d[1]));a=f}return a},g=function(b,c,d){d=d||[.4,.7];var f=0==c%2;c=f?c/2:(c+1)/2;f=a("black",b,f?c+1:c,[d[0],1]);b=a(b,"white",c,[0,d[1]]);return f.concat(b.slice(1))},k=function(){return d3.scaleOrdinal(d3wb.color.category())},f=function(){for(var a=[],c=2;25>c;c+=5)a.push(d3wb.color.category()[c]);return d3.scaleOrdinal(a)},u=function(a,c){c=c||[d3wb.color.white,d3wb.color.black];return d3.scaleLinear().domain(a).interpolate(d3.interpolate).range(c)},
p=function(a,c){return d3.scaleQuantile().domain(a).range(c)},t=function(a,c){a.name=c;a.fade=function(c){return g(a.name,100)[c]};return a},q=function(a){var c=a;"string"!==typeof a||a.startsWith("rgb")||(a=d3.rgb(d3wb.color[a]),a=t(a,c));return a};d3wb.theme=function(b){if(!arguments.length){var r=Object.keys(d3wb.color),n=[];for(q in r)"function"!==typeof d3wb.color[r[q]]&&n.push(d3wb.color[r[q]].name);return n}d=b;var q=c[b];var v={lohiScaleArray:g,array:l,gradientArray:a,category:e,categoryMain:h,
quantile:p,linearGradient:u,ordinal:k,smallOrdinal:f};for(r in q)Object.prototype.hasOwnProperty.call(q,r)&&(v[r]=d3.rgb(q[r]),v[r]=t(v[r],r));d3wb.themes=[];for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&d3wb.themes.push(n);d3wb.color=v};d3wb.theme.add=function(a,b){c[a]=b;b=d;d3wb.theme(a);d3wb.theme(b)};d3wb.theme(d)});
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b.d3wb.mouse=b.d3wb.mouse||{})})(this,function(b){d3wb.mouse={tooltip:function(){var b=.8,c=5,l="white",e="black",h=20,a=5,g=function(){return(new Date).toDateString()+"\n"+String(Math.floor(9E8*Math.random()))},k=function(d){d.each(function(d,f,k){d=d3.select(k[f]);var u=k[f].ownerSVGElement,p=u.getBBox(),r=!1,m,t,v;d.on("mouseover",function(d){if(!r){r=
!0;m=d3.select(u).append("g").attr("class",d3wb.prefix("tooltip")).style("pointer-events","none").style("user-select","none").style("-moz-user-select","none");t=m.append("rect").attr("class",d3wb.prefix("tooltip-box"));v=m.append("text").attr("class",d3wb.prefix("tooltip-text"));d=(""+g(d)).split("\n");var f={};for(k in d)f.i$1=k,Object.prototype.hasOwnProperty.call(d,f.i$1)&&(v.append("tspan").style("text-anchor","middle").style("dominant-baseline","hanging").style("fill",l).attr("x",0).attr("dy",
function(a){return function(){return 0==a.i$1?0:h}}(f)).text(d[f.i$1]),f={i$1:f.i$1});var k=v.node().getBBox();t.attr("rx",a).attr("ry",a).attr("width",k.width+2*c).attr("height",k.height+2*c).attr("x",-(k.width/2)-c).attr("y",-c).attr("opacity",b).style("fill",e)}});d.on("mouseout",function(){r&&(r=!1,m.remove())});d.on("mousemove",function(){var a=d3.mouse(u),b=t.node().getBBox(),d=a[0];a=a[1]-b.height;d=0>d-b.width/2?b.width/2:d;d=d+b.width/2>p.width?p.width-b.width/2:d;a=0>a-c?c:a;a=a+b.height-
c>p.height?p.height-b.height+c:a;m.attr("transform","translate("+d+","+a+")")})})};k.opacity=function(a){if(!arguments.length)return b;b=a;return k};k.padding=function(a){if(!arguments.length)return c;c=a;return k};k.color=function(a){if(!arguments.length)return l;l=a;return k};k.fill=function(a){if(!arguments.length)return e;e=a;return k};k.lineHeight=function(a){if(!arguments.length)return h;h=a;return k};k.roundCorners=function(b){if(!arguments.length)return a;a=b;return k};k.selector=function(a){if(!arguments.length)return g;
g=a;return k};return k},click:function(){var b=["dblclick"],c=["open"],l="dblclick",e="open",h=function(a,b){return"https://d3js.org/"},a=function(a){a.each(function(a,b,c){a=d3.select(c[b]);g(e,l,a)})},g=function(a,b,c){if("open"==a)c.on(b,function(a,b){a=h(a,b);window.open(a,"_blank")})};a.event=function(c){if(!arguments.length)return l;if(!b.includes(c))throw Error("Event '"+c+"' not supported! Allowed: "+b);l=c;return a};a.action=function(b){if(!arguments.length)return e;if(!c.includes(b))throw Error("Action '"+
b+"' not supported! Allowed: "+c);e=b;return a};a.openTarget=function(b){if(!arguments.length)return h;h=b;return a};return a}}});
(function(b,d){if(void 0===b.d3wb.util)throw Error("d3wb.util required but not loaded.");"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b.d3wb.add=b.d3wb.add||{})})(this,function(b){var d=function(a){var b=function(a){a.each(function(a,b,f){var g=d3.select(f[b]).append("g").attr("transform","translate("+d.x+","+d.y+")").attr("class",d3wb.prefix("axis axis-x")).call(d3wb.util.makeUnselectable());d.update=function(a){a=
a||!1;var b=e(d);a?g.call(b):g.transition().duration(500).call(b)};d.update(!0);l(d.color,g);90==c&&g.selectAll("text").attr("y",-2).attr("x",-9).attr("dy",".35em").style("text-anchor","end").attr("transform","rotate(-90)")})},c=void 0;b.rotation=function(a){if(!arguments.length)return c;c=a;return b};var d=h(b,d3.axisTop,a);return b},c=function(a){var b=function(a){a.each(function(a,b,d){var f=d3.select(d[b]).append("g").attr("class",d3wb.prefix("axis axis-y")).attr("transform","translate("+c.x+
","+c.y+")").call(d3wb.util.makeUnselectable());c.update=function(a){a=a||!1;var b=e(c);a?f.call(b):f.transition().duration(500).call(b)};c.update(!0);l(c.color,f)})},c=h(b,d3.axisLeft,a);return b},l=function(a,b){b.selectAll("line").style("stroke",a);b.selectAll("path").style("stroke",a);b.selectAll("text").attr("fill",a)},e=function(a){var b=a.type(a.scale);a.ticks&&b.ticks(a.ticks);a.tickFormat&&b.tickFormat(a.tickFormat);return b},h=function(a,b,c){if(void 0===c)throw Error("Call to d3wb.add.axis requires a d3.scale as function argument.");
var d={x:0};a.x=function(b){if(!arguments.length)return x;d.x=b;return a};d.y=0;a.y=function(b){if(!arguments.length)return y;d.y=b;return a};d.type=b;a.type=function(b){if(!arguments.length)return type;d.type=b;return a};d.scale=c;a.scale=function(b){if(!arguments.length)return type;d.scale=b;return a};d.ticks;a.ticks=function(b){if(!arguments.length)return ticks;d.ticks=b;return a};d.tickFormat;a.tickFormat=function(b){if(!arguments.length)return tickFormat;d.tickFormat=b;return a};d.color="black";
a.color=function(b){if(!arguments.length)return color;d.color=b;return a};d.update=function(){};a.update=function(a){d.update(a)};a.truncate=function(b){a.tickFormat(function(a){return a.length>b?a.substring(0,b)+"\u2026":a});return a};return d};d3wb.add={xAxis:d,xAxisTop:d,xAxisBottom:function(a){return d(a).type(d3.axisBottom)},xAxisLabel:function(a){if(void 0===a||""==a)throw Error("Call to d3wb.add.xAxisLabel requires a label string as function argument.");var b="black",c="top",d=function(d){d.each(function(d,
f,g){d=d3.select(g[f].ownerSVGElement);var k=d.node().getBBox();d.append("text").attr("class",d3wb.prefix("label label-x")).attr("transform",function(){var a="translate("+k.width/2+",";a="top"==c?a+15:a+(k.height-15);return a+")"}).style("text-anchor","middle").style("fill",b).call(d3wb.util.makeUnselectable()).attr("dominant-baseline",function(){return"top"==c?"hanging":"auto"}).text(a)})};d.color=function(a){if(!arguments.length)return b;b=a;return d};d.orientation=function(a){if(!arguments.length)return c;
if("top"!=a&&"bottom"!=a)throw Error("Invalid orientation for d3wb.add.xAxisLabel. Allowed values: top, bottom");c=a;return d};return d},yAxis:c,yAxisLeft:c,yAxisRight:function(a){return c(a).type(d3.axisRight)},yAxisLabel:function(a){if(void 0===a||""==a)throw Error("Call to d3wb.add.yAxisLabel requires a label string as function argument.");var b="black",c="left",d=function(d){d.each(function(d,f,g){d=d3.select(g[f].ownerSVGElement);var k=d.node().getBBox();d.append("text").attr("class",d3wb.prefix("label label-y")).attr("transform",
function(){var a="translate(";a="left"==c?a+5:a+(k.width-5);a+=","+k.height/2+") rotate(";a="left"==c?a+"-90":a+"90";return a+")"}).style("text-anchor","middle").attr("dominant-baseline","hanging").style("fill",b).call(d3wb.util.makeUnselectable()).text(a)})};d.color=function(a){if(!arguments.length)return b;b=a;return d};d.orientation=function(a){if(!arguments.length)return c;if("left"!=a&&"right"!=a)throw Error("Invalid orientation for d3wb.add.yAxisLabel. Allowed values: left, right");c=a;return d};
return d},title:function(a){if(void 0===a||""==a)throw Error("Call to d3wb.add.title requires a text string as function argument.");var b="black",c="140%",d=function(){},e=function(f){f.each(function(f,g,e){var k=d3.select(e[g].ownerSVGElement);f=k.node().getBBox();k.append("text").attr("class",d3wb.prefix("title")).attr("x",f.width/2).attr("y",5).attr("text-anchor","middle").attr("dominant-baseline","hanging").call(d3wb.util.makeUnselectable()).style("fill",b).style("font-size",c);d=function(){k.selectAll(d3wb.selector("title")).text(a)};
d()})};e.color=function(a){if(!arguments.length)return b;b=a;return e};e.fontSize=function(a){if(!arguments.length)return c;c=a;return e};e.text=function(b){if(!arguments.length)return a;a=b;return e};e.update=function(){d()};return e},textBox:function(a){if(void 0===a||""==a)throw Error("Call to d3wb.add.textBox requires a text string as function argument.");var b=0,c=0,d=100,e=100,h="white",l="steelblue",q=3,n=5,r=!0,m=function(f){f.each(function(f,g,k){g=d3.select(k[g]);f=[];a=a.replace(/\n+/,
"\n");a.split("\n").forEach(function(a){f.push({text:a.trim()})});g=g.append("g").attr("class",d3wb.prefix("textbox")).attr("transform","translate("+(b+q)+","+(c+q)+")");k=g.append("rect").attr("class",d3wb.prefix("textbox-bg")).attr("x",-q).attr("y",-q).attr("width",d+2*q).attr("height",e+2*q).attr("rx",n).attr("ry",n).attr("fill",l);var m=0;g.selectAll(d3wb.selector("textbox-line")).data(f).enter().append("text").attr("class",d3wb.prefix("textbox-line")).attr("text-anchor","left").attr("dominant-baseline",
"hanging").attr("fill",h).style("font-size","20px").text(function(a){return a.text}).style("font-size",function(a,b,c){a=d;b=c[b].getComputedTextLength();return a/b*20+"px"}).each(function(a,b,c){a.numberBox=c[b].getBBox();m+=a.numberBox.height}).call(d3wb.util.makeUnselectable());var p=1==f.legend?0:(e-m)/(f.length-1);p=0<p?0:p;g.selectAll(d3wb.selector("textbox-line")).each(function(a,b,c){d3.select(c[b]).attr("x",function(a){a=d-c[b].getBBox().width;return Math.floor(a/2)});d3.select(c[b]).attr("y",
function(a){a=0;if(0==b)return a;for(var d=b-1;0<=d;d--)a=a+c[d].getBBox().height+p;return a});a.numberBox=c[b].getBBox()});r&&k.attr("height",m+2*q+p*(f.length-1))})};m.x=function(a){if(!arguments.length)return b;b=a;return m};m.y=function(a){if(!arguments.length)return c;c=a;return m};m.width=function(a){if(!arguments.length)return d;d=a;return m};m.height=function(a){if(!arguments.length)return e;e=a;return m};m.fill=function(a){if(!arguments.length)return h;h=a;return m};m.backgroundColor=function(a){if(!arguments.length)return l;
l=a;return m};m.padding=function(a){if(!arguments.length)return q;q=a;return m};m.borderRadius=function(a){if(!arguments.length)return n;n=a;return m};m.adjustBackgroundHeight=function(a){if(!arguments.length)return r;r=a;return m};return m},legend:function(){var a="black",b,c=["darkblue","blue","steelblue"],d=["Item 1","Item 2","Item 3"],e=0,h=0,l=d3.symbolTriangle,q=100,n=function(f){f.each(function(f,g,k){f=d3.select(k[g]);f.append("g").attr("class",d3wb.prefix("legend")).attr("transform","translate("+
e+","+h+")");g=d3.scaleOrdinal().domain(d.map(function(a){return a})).range(d.map(function(a,b){return c[b]}));g=d3.legendColor().shape("path",d3.symbol().type(l).size(q)()).scale(g);f.select(d3wb.selector("legend")).call(g).style("fill",a).style("font-size","90%");b&&f.selectAll("path.swatch").style("stroke",b);f.selectAll(".cell").attr("class",d3wb.prefix("cell"));f.selectAll(".legendCells").attr("class",d3wb.prefix("legend-cells"));f.selectAll(".label").attr("class",d3wb.prefix("cell-label")).call(d3wb.util.makeUnselectable());
f.selectAll(".swatch").attr("class",d3wb.prefix("cell-symbol"))})};n.stroke=function(a){if(!arguments.length)return b;b=a;return n};n.x=function(a){if(!arguments.length)return e;e=a;return n};n.y=function(a){if(!arguments.length)return h;h=a;return n};n.text=function(a){if(!arguments.length)return d;d=a;return n};n.colors=function(a){if(!arguments.length)return c;c=a;return n};n.color=function(b){if(!arguments.length)return a;a=b;return n};n.symbol=function(a){if(!arguments.length)return l;l=a;return n};
n.symbolSize=function(a){if(!arguments.length)return q;q=a;return n};return n},shadow:function(){var a=d3wb.util.websafeShortGuid()+"-shadow";return function(b){b.each(function(b,c,d){b=d3.select(d[c]);c=d3.select(d[c].ownerSVGElement).append("defs").append("filter").attr("id",a);c.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur");c.append("feOffset").attr("in","blur").attr("dx",2).attr("dy",1).attr("result","offsetBlur");c.append("feComponentTransfer").append("feFuncA").attr("type",
"linear").attr("slope",.4);c=c.append("feMerge");c.append("feMergeNode").attr('in", "offsetBlur');c.append("feMergeNode").attr("in","SourceGraphic");b.style("filter","url(#"+a+")")})}}}});
(function(b,d){if(void 0===b.d3wb.util)throw Error("d3wb.util required but not loaded.");"object"===typeof exports&&"undefined"!==typeof module?d(exports):"function"===typeof define&&define.amd?define(["exports"],d):d(b.d3wb.html=b.d3wb.html||{})})(this,function(b){d3wb.html={dropdown:function(){var b=["Option 1","Option 2","Option 3"],h=function(e){e=d(e);e.each(function(d,e,g){d=d3.select(g[e]);e=function(){var c=d3.select("#"+a.id+"-control").property("value"),d=b.indexOf(c);a.callback(c,d)};c(d,
a).append("select").attr("id",a.id+"-control").on("change",e).selectAll("option").data(b).enter().append("option").attr("class",a.id+"-option").text(function(a){return a});e();a.autoLocate()})},a=l(h,"dropdown");h.options=function(a){if(!arguments.length)return b;b=a;return h};return h},button:function(){var b=["Click me"],h=0,a,g=function(e){e=d(e);e.each(function(d,e,g){d=d3.select(g[e]);e=function(){var c=d3.select("#"+k.id+"-control").text(),d=b.indexOf(c);h=(h+1)%b.length;k.callback(c,d);a.text(b[h])};
a=c(d,k).append("button").attr("id",k.id+"-control").style("user-select","none").style("-moz-user-select","none").text(b[h]).on("click",e);k.callbackOnInit&&e();k.autoLocate()})},k=l(g,"button");g.options=function(a){if(!arguments.length)return b;b=a;return g};return g},textfield:function(){var b=function(a){a=d(a);a.each(function(a,b,d){a=d3.select(d[b]);c(a,h).append("input").attr("id",h.id+"-control").style("margin",0).style("padding",0).on("input",function(a,b,c){h.callback(c[b].value)});h.autoLocate()})},
h=l(b,"textfield");return b},infoBox:function(b){var e="black",a="red",g="white",k="black",f=b||"\x3cb\x3eInformation\x3c/b\x3e\x3c/br\x3e\n        This box contains information about the graph. It's intended to guide the user. You can use \x3ci\x3ehtml-style\x3c/i\x3e as desired.\n        ",u=!1,p=function(b){b=d(b);b.each(function(b,d,h){b=d3.select(h[d]);b=c(b,t);d=b.append("p").attr("id",t.id+"-control").html("\x26#9432;");b.append("p").attr("id",t.id+"-infobox").html(f);d.on("click",function(){u=
!u;d3wb.util.injectCSS("#"+t.id+"-infobox { opacity: "+(u?.8:0)+";}")});d3wb.util.injectCSS("\n                    #"+t.id+" {\n                        pointer-events:none;\n                    }\n                    #"+t.id+"-control {\n                        margin: 0;\n                        padding: 0;\n                        width: 0px;\n                        color: "+e+";\n                        font-size: 150%;\n                        pointer-events: auto;\n                    }\n                    #"+
t.id+"-button:hover {\n                        cursor: default;\n                        color: "+a+";\n                    }\n                    #"+t.id+"-infobox {\n                        position: relative;\n                        text-align: left;\n                        margin: 0;\n                        padding: 0.5em;\n                        border-radius: 0.4em;\n                        user-select: none;\n                        border: 1px solid "+g+";\n                        color: "+
g+";\n                        font-size: 100%;\n                        background-color: "+k+";\n                        opacity: 0;\n                    }\n                ");t.autoLocate()})},t=l(p,"infobox");p.controlColor=function(a){if(!arguments.length)return e;e=a;return p};p.controlColorHover=function(b){if(!arguments.length)return a;a=b;return p};p.controlHover=function(a){if(!arguments.length)return controlHover;controlHover=a;return p};p.infoColor=function(a){if(!arguments.length)return g;
g=a;return p};p.infoFill=function(a){if(!arguments.length)return k;k=a;return p};p.infoContent=function(a){if(!arguments.length)return f;f=a;return p};return p}};var d=function(b){return void 0!==b.div?b.div:b},c=function(b,c){return b.append("div").attr("id",c.id).style("position","absolute").style("margin",0).style("padding",0).call(d3wb.util.makeUnselectable())},l=function(b,c){var a={id:d3wb.util.websafeShortGuid()+"-"+c,callback:function(){console.log("callback.")},callbackOnInit:!1,leftOrRightSet:!1,
topOrBottomSet:!1,autoLocate:function(){this.leftOrRightSet||d3wb.util.injectCSS("\n                        #"+a.id+" {\n                            left: 0px;\n                        }");this.topOrBottomSet||d3wb.util.injectCSS("\n                        #"+a.id+" {\n                            top: 0px;\n                        }")}};b.id=function(c){if(!arguments.length)return"#"+a.id;id=c;return b};b.style=function(c,d){d=String(d);isNaN(d)||d.endsWith("px")||(d+="px");c=c.trim();if("left"==
c||"right"==c)a.leftOrRightSet=!0;if("bottom"==c||"top"==c)a.topOrBottomSet=!0;d3wb.util.injectCSS("\n                #"+a.id+" {\n                    "+c+": "+d+";\n                }\n            ");return b};b.callback=function(c){if(!arguments.length)return a.callback;a.callback=c;return b};return a}});