var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,e,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,c,h){if(e){c=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var g=a[h];g in c||(c[g]={});c=c[g]}a=a[a.length-1];h=c[a];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,c){var e=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var g=e.length,b=a.length;c=Math.max(0,Math.min(c|0,e.length));for(var l=0;l<b&&c<g;)if(e[c++]!=a[l++])return!1;return l>=b}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var a=0;return function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+a++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,h){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var e=[],b=a[Symbol.iterator];if("function"==typeof b)for(a=b.call(a);!(b=a.next()).done;)e.push(c.call(h,b.value));else{b=a.length;for(var l=0;l<b;l++)e.push(c.call(h,a[l]))}return e}},"es6","es3");$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var e=a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};
$jscomp.owns=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)};
$jscomp.polyfill("WeakMap",function(a){function e(a){$jscomp.owns(a,h)||$jscomp.defineProperty(a,h,{value:{}})}function c(a){var f=Object[a];f&&(Object[a]=function(a){e(a);return f(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),f=Object.seal({}),c=new a([[b,2],[f,3]]);if(2!=c.get(b)||3!=c.get(f))return!1;c.delete(b);c.set(f,4);return!c.has(b)&&4==c.get(f)}catch(k){return!1}}())return a;var h="$jscomp_hidden_"+Math.random().toString().substring(2);c("freeze");c("preventExtensions");
c("seal");var g=0,b=function(a){this.id_=(g+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var f;!(f=a.next()).done;)f=f.value,this.set(f[0],f[1])}};b.prototype.set=function(a,f){e(a);if(!$jscomp.owns(a,h))throw Error("WeakMap key fail: "+a);a[h][this.id_]=f;return this};b.prototype.get=function(a){return $jscomp.owns(a,h)?a[h][this.id_]:void 0};b.prototype.has=function(a){return $jscomp.owns(a,h)&&$jscomp.owns(a[h],this.id_)};b.prototype.delete=
function(a){return $jscomp.owns(a,h)&&$jscomp.owns(a[h],this.id_)?delete a[h][this.id_]:!1};return b},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),c=new a($jscomp.makeIterator([[f,"s"]]));if("s"!=c.get(f)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var k=c.entries(),b=k.next();if(b.done||b.value[0]!=f||"s"!=b.value[1])return!1;b=k.next();return b.done||4!=b.value[0].x||"t"!=b.value[1]||!k.next().done?!1:!0}catch(n){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var e=new WeakMap,c=function(a){this.data_={};this.head_=b();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var f;!(f=a.next()).done;)f=f.value,this.set(f[0],f[1])}};c.prototype.set=function(a,c){var k=h(this,a);k.list||(k.list=this.data_[k.id]=[]);k.entry?k.entry.value=c:(k.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:c},k.list.push(k.entry),this.head_.previous.next=k.entry,this.head_.previous=k.entry,this.size++);return this};c.prototype.delete=
function(a){a=h(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};c.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=b();this.size=0};c.prototype.has=function(a){return!!h(this,a).entry};c.prototype.get=function(a){return(a=h(this,a).entry)&&a.value};c.prototype.entries=function(){return g(this,function(a){return[a.key,
a.value]})};c.prototype.keys=function(){return g(this,function(a){return a.key})};c.prototype.values=function(){return g(this,function(a){return a.value})};c.prototype.forEach=function(a,c){for(var k=this.entries(),b;!(b=k.next()).done;)b=b.value,a.call(c,b[1],b[0],this)};c.prototype[Symbol.iterator]=c.prototype.entries;var h=function(a,c){var k=c&&typeof c;"object"==k||"function"==k?e.has(c)?k=e.get(c):(k=""+ ++l,e.set(c,k)):k="p_"+c;var b=a.data_[k];if(b&&$jscomp.owns(a.data_,k))for(a=0;a<b.length;a++){var f=
b[a];if(c!==c&&f.key!==f.key||c===f.key)return{id:k,list:b,index:a,entry:f}}return{id:k,list:b,index:-1,entry:void 0}},g=function(a,c){var b=a.head_;return $jscomp.iteratorPrototype(function(){if(b){for(;b.head!=a.head_;)b=b.previous;for(;b.next!=b.head;)return b=b.next,{done:!1,value:c(b)};b=null}return{done:!0,value:void 0}})},b=function(){var a={};return a.previous=a.next=a.head=a},l=0;return c},"es6","es3");
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),e=new a($jscomp.makeIterator([c]));if(!e.has(c)||1!=e.size||e.add(c)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var g=e.entries(),b=g.next();if(b.done||b.value[0]!=c||b.value[1]!=c)return!1;b=g.next();return b.done||b.value[0]==c||4!=b.value[0].x||b.value[1]!=b.value[0]?!1:g.next().done}catch(l){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var c;!(c=a.next()).done;)this.add(c.value)}this.size=this.map_.size};e.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};e.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};e.prototype.clear=function(){this.map_.clear();this.size=0};e.prototype.has=function(a){return this.map_.has(a)};e.prototype.entries=function(){return this.map_.entries()};
e.prototype.values=function(){return this.map_.values()};e.prototype.keys=e.prototype.values;e.prototype[Symbol.iterator]=e.prototype.values;e.prototype.forEach=function(a,e){var c=this;this.map_.forEach(function(b){return a.call(e,b,b,c)})};return e},"es6","es3");
$jscomp.iteratorFromArray=function(a,e){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,h={next:function(){if(c<a.length){var g=c++;return{value:e(g,a[g]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,c){var e=this;e instanceof String&&(e=String(e));var g=e.length;for(c=c||0;c<g;c++)if(e[c]==a||Object.is(e[c],a))return!0;return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6","es3");
var wbBarChartPosNeg=function(){var a=500,e=500,c=.1,h=1,g="x",b="y",l,f,t,k="desc",v="green",n="red",r=function(){},d=function(d){d.each(function(d,u,m){var p=d3.select(m[u]);l=d3.scaleBand().rangeRound([0,a],.1).padding(c);f=d3.scaleLinear().range([e,0]);r=function(a){a.forEach(function(a){a[b]=+a[b]});t&&a.sort(function(a,d){return"desc"==k?+d[t]-+a[t]:+a[t]-+d[t]});var d=d3.extent(a,function(a){return a[b]});0>d[0]&&0>d[1]?d[1]=0:0<d[0]&&0<d[1]&&(d[0]=0);f.domain(d);var c=f(d[0])-f(0),u=f(d[0])-
c;l.domain(a.map(function(a){return a[g]}));p.selectAll(".rects").remove().exit().data(a).enter().append("rect").attr("class","rects").attr("x",function(a){return l(a[g])}).attr("width",function(a){return l.bandwidth()*h}).attr("y",function(a){return 0<=a[b]?f(a[b]):u}).attr("height",function(a){return 0<=a[b]?e-f(a[b])-c:f(a[b])-u}).attr("fill",function(a,d){return 0<=a[b]?v:n})};r(d)})};d.update=function(a){r(a);return d};d.width=function(b){if(!arguments.length)return a;a=b;return d};d.height=
function(a){if(!arguments.length)return e;e=a;return d};d.xSelector=function(a){if(!arguments.length)return g;g=a;return d};d.ySelector=function(a){if(!arguments.length)return b;b=a;return d};d.scaleX=function(a){if(!arguments.length)return l;l=a;return d};d.scaleY=function(a){if(!arguments.length)return f;f=a;return d};d.fillPos=function(a){if(!arguments.length)return v;v=a;return d};d.fillNeg=function(a){if(!arguments.length)return fifillNegll;n=a;return d};d.padding=function(a){if(!arguments.length)return c;
c=a;return d};d.widthFactor=function(a){if(!arguments.length)return h;h=a;return d};d.sortBy=function(a){if(!arguments.length)return t;t=a;return d};d.sortDirection=function(a){if(!arguments.length)return k;if("desc"!=a&&"asc"!=a)throw Error("Only desc or asc are allowed as sort order.");k=a;return d};return d},wbBarChart=function(){var a=500,e=500,c=.1,h=1,g="x",b="y",l,f,t,k,v="desc",n,r="black",d=function(a){return a},u="blue",w=function(){},p=function(m){m.each(function(m,p,B){var x=d3.select(B[p]);
l=d3.scaleBand().rangeRound([0,a],.1).padding(c);f=d3.scaleLinear().range([e,0]);w=function(a){a.forEach(function(a){a[b]=+a[b]});k&&a.sort(function(a,d){return"desc"==v?+d[k]-+a[k]:+a[k]-+d[k]});var c=t?t:[0,d3.max(a,function(a){return a[b]})];f.domain(c);l.domain(a.map(function(a){return a[g]}));x.selectAll(".rects").remove().exit().data(a).enter().append("rect").attr("class","rects").attr("x",function(a){if(1<=h)return l(a[g]);var d=l.bandwidth()-l.bandwidth()*h;return l(a[g])+d/2}).attr("width",
function(a){return l.bandwidth()*h}).attr("y",function(a){return f(a[b])}).attr("height",function(a){return e-f(a[b])}).attr("fill",function(a,d){return"string"===typeof u?u:"function"===typeof u?u(d):"object"===typeof u&&String(u).startsWith("rgb")?u:u[d]});n&&x.selectAll(".values").remove().exit().data(a).enter().append("text").attr("class","values").attr("fill",r).attr("text-anchor","middle").attr("x",function(a){return l(a[g])+l.bandwidth()/2}).attr("y",function(a){return f(a[b])-10}).text(function(a){return d(a[b])})};
w(m)})};p.update=function(a){w(a);return p};p.width=function(d){if(!arguments.length)return a;a=d;return p};p.height=function(a){if(!arguments.length)return e;e=a;return p};p.xSelector=function(a){if(!arguments.length)return g;g=a;return p};p.ySelector=function(a){if(!arguments.length)return b;b=a;return p};p.scaleX=function(a){if(!arguments.length)return l;l=a;return p};p.scaleY=function(a){if(!arguments.length)return f;f=a;return p};p.fill=function(a){if(!arguments.length)return u;u=a;return p};
p.yExtent=function(a){if(!arguments.length)return t;t=a;return p};p.valuesShow=function(a){if(!arguments.length)return n;n=a;return p};p.valuesFill=function(a){if(!arguments.length)return r;r=a;return p};p.valueFormat=function(a){if(!arguments.length)return d;d=a;return p};p.padding=function(a){if(!arguments.length)return c;c=a;return p};p.widthFactor=function(a){if(!arguments.length)return h;h=a;return p};p.sortDirection=function(a){if(!arguments.length)return v;if("desc"!=a&&"asc"!=a)throw Error("Only desc or asc are allowed as sort order.");
v=a;return p};p.sortBy=function(a){if(!arguments.length)return k;k=a;return p};return p},wbChordDiagram=function(){var a=500,e="black",c=d3.scaleOrdinal(d3.schemeCategory20c),h,g,b=function(b){b.each(function(b,l,k){b=d3.select(k[l]);var f=a/2-100,n=d3.chord().padAngle(.04).sortSubgroups(d3.descending).sortChords(d3.descending);l=d3.arc().innerRadius(f).outerRadius(f+20);k=d3.ribbon().radius(f);n=n(h);b.attr("class","chord-circle").datum(n);b.append("circle").attr("fill","none").attr("pointer-events",
"all").attr("r",f+20);n=b.selectAll("group").data(function(a){return a.groups}).enter().append("g").style("fill-opacity",".8").on("mouseover",function(a,b){r.classed("fade",function(a){return a.source.index!=b&&a.target.index!=b})}).on("mousemove",function(){}).on("mouseout",function(){});n.append("path").style("stroke",e).style("fill",e).attr("d",l);n.append("text").each(function(a){a.angle=(a.startAngle+a.endAngle)/2}).attr("dy",".35em").style("font-size","90%").attr("text-anchor",function(a){return a.angle>
Math.PI?"end":null}).attr("transform",function(a){return"rotate("+(180*a.angle/Math.PI-90)+")translate("+(f+26)+")"+(a.angle>Math.PI?"rotate(180)":"")}).style("fill",e).text(function(a){return g[a.index].key});var r=b.selectAll("chord").data(function(a){return a}).enter().append("path").attr("class","chordpaths").style("fill-opacity",".8").style("stroke-width","25px").style("fill",function(a,b){return c(b)}).attr("d",k.radius(f))})};b.radius=function(c){if(!arguments.length)return a;a=c;return b};
b.matrix=function(a){if(!arguments.length)return h;h=a;return b};b.keys=function(a){if(!arguments.length)return g;g=a;return b};b.colors=function(a){if(!arguments.length)return c;c=a;return b};b.fill=function(a){if(!arguments.length)return e;e=a;return b};return b},wbDonutChart=function(){var a=500,e="black",c=d3.scaleOrdinal(d3.schemeCategory10),h=function(g){g.each(function(b,g,f){g=d3.select(f[g]);f=d3.pie().value(function(a){return a.percent}).sort(null).padAngle(.03);var l=a/2,k=a/8;k=d3.arc().outerRadius(l).innerRadius(k);
g.selectAll("path").data(f(b)).enter().append("path").attr("class","paths").attr("d",k).attr("fill",function(a,b){return c(b)});b=d3.scaleOrdinal().domain(b.map(function(a){return a.label})).range(b.map(function(a,b){return c(b)}));g.append("g").attr("class","legend").attr("transform",function(a,b){return"translate("+(l+10)+","+(-l+10)+")"});b=d3.legendColor().shape("path",d3.symbol().type(d3.symbolCircle).size(100)()).scale(b);g.select(".legend").call(b).style("fill",e).style("font-size","90%")})};
h.radius=function(c){if(!arguments.length)return a;a=c;return h};h.fillLegend=function(a){if(!arguments.length)return e;e=a;return h};h.colors=function(a){if(!arguments.length)return c;c=a;return h};return h};
function wbGeoMap(){var a=500,e=500,c="#666666",h="#555555",g=1,b,l,f=!0,t=function(){},k=function(k){k.each(function(k,r,d){var u=d3.select(d[r]),n,v=function(d){var b=a/2,c=e/2,k=1;null===n||n!==d?(c=z.centroid(d),b=+c[0],c=+c[1],k=2.5,n=d):n=null;u.transition().duration(1E3).attr("transform","translate("+a/2+","+e/2+")scale("+k+")translate("+-b+","+-c+")").style("stroke-width",1.75/k+"px")};d=d3.geoBounds(k);b&&(d=b);r=d[0];d=d[1];var m=-(d[0]+r[0])/2,x=[(d[0]+r[0])/2+m,(d[1]+r[1])/2];l=d3.geoAlbers().parallels([r[1],
d[1]]).translate([a/2,e/2]).rotate([m,0,0]).center(x);var D=l(r),B=l(d);D=1*Math.min(a/(B[0]-D[0]),e/(-B[1]+D[1]));l=d3.geoAlbers().parallels([r[1],d[1]]).rotate([m,0,0]).translate([a/2,e/2]).scale(975*D).center(x);var z=d3.geoPath().projection(l);t=function(){u.selectAll(".wb-feature-paths").exit().remove().data(k.features).enter().append("path").attr("d",z).attr("class","wb-feature-paths").style("fill",c).style("stroke",h).style("stroke-width",g);if(f)u.selectAll(".wb-feature-paths").on("click",
v)};t()})};k.width=function(b){if(!arguments.length)return a;a=b;return k};k.height=function(a){if(!arguments.length)return e;e=a;return k};k.projection=function(a){if(!arguments.length)return l;l=a;return k};k.mapFill=function(a){if(!arguments.length)return c;c=a;return k};k.mapStroke=function(a){if(!arguments.length)return h;h=a;return k};k.boundsManual=function(a){if(!arguments.length)return b;b=a;return k};k.mapStrokeWidth=function(a){if(!arguments.length)return g;g=a;return k};k.allowZoom=function(a){if(!arguments.length)return f;
f=a;return k};k.update=function(){t()};return k}
function wbHeatMap(){var a=500,e=500,c="black",h="#ffffd9 #edf8b1 #c7e9b4 #7fcdbb #41b6c4 #1d91c0 #225ea8 #253494 #081d58".split(" "),g=function(b){b.each(function(b,f,g){f=d3.select(g[f]);b.forEach(function(a){a.day=+a.day;a.hour=+a.hour;a.value=+a.value});g=Array(24);for(var k=0;k<g.length;k++)g[k]=k+"";k="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ");var l=Math.floor(a/24),n=Math.floor(e/k.length);f.selectAll(".dayLabel").data(k).enter().append("text").text(function(a){return a}).attr("x",0).attr("y",
function(a,b){return b*n}).style("text-anchor","end").style("fill",c).attr("dominant-baseline","middle").attr("transform","translate(-6,"+n/2+")");f.selectAll(".timeLabel").data(g).enter().append("text").text(function(a){return a}).attr("x",function(a,b){return b*l}).attr("y",0).style("text-anchor","middle").style("fill",c).attr("transform","translate("+l/2+", -6)");g=f.selectAll(".hour").data(b).enter().append("rect").attr("x",function(a){return a.hour*l}).attr("y",function(a){return(a.day-1)*n}).attr("class",
"hour bordered").attr("width",l).attr("height",n).attr("stroke",c).attr("stroke-width","1").style("fill",c);b=d3.extent(b,function(a){return a.value});var r=d3.scaleQuantile().domain(b).range(h);g.style("fill",function(a){return r(a.value)});b=f.selectAll(".legend").data([0].concat(r.quantiles()),function(a){return a}).enter().append("g");b.append("rect").attr("x",function(a,b){return 2*l*b}).attr("y",e+10).attr("width",2*l).attr("height",n/2).attr("stroke",c).attr("stroke-width","1").style("fill",
function(a,b){return h[b]});b.append("text").attr("dominant-baseline","hanging").text(function(a){return"\u2265 "+Math.round(a)}).attr("x",function(a,b){return 2*l*b}).attr("y",e+n).style("fill",c)})};g.width=function(b){if(!arguments.length)return a;a=b;return g};g.height=function(a){if(!arguments.length)return e;e=a;return g};g.colors=function(a){if(!arguments.length)return h;h=a;return g};g.fill=function(a){if(!arguments.length)return c;c=a;return g};return g}
function wbLinePlot(){var a=500,e=500,c=d3.scaleLinear(),h=d3.scaleLinear(),g="x",b=["y"],l=function(a){return a},f=function(a){return a},t,k,v,n,r=!1,d=["red"],u=1,w="white",p=[d3.curveBasis],m=!0,x="black",D=0,B=0,z,A="red",C=!1,y=function(){},q=function(f){f.each(function(f,q,E){var w=d3.select(E[q]);if(2*b.length!=p.length+d.length)throw Error("If you enter more than one y-data-point, you need to set the curve and stroke options with equally-sized arrays.");m&&(q=w.append("g").attr("font-size",
"75%").attr("text-anchor","end").attr("transform","translate("+D+","+B+")").selectAll("g").data(b).enter().append("g").call(d3wb.util.makeUnselectable()).attr("transform",function(a,b){return"translate(0,"+20*b+")"}),q.append("rect").attr("x",-19).attr("width",19).attr("height",19).attr("fill",function(a,b){return d[b]}),q.append("text").attr("x",-22).attr("y",9.5).attr("dy","0.32em").text(function(a){return a}).attr("fill",x));if(C){w.append("line").attr("class","tooltip-line");w.append("text").attr("class",
"tooltip-text").attr("x",5).attr("y",0).style("font-size","85%").attr("text-anchor","start").attr("dominant-baseline","hanging").style("fill",x);b.forEach(function(a,b){w.append("circle").attr("class","tooltip-circle tooltip-circle-"+a)});var F=w.append("rect").attr("class","selector-box").attr("width",a).attr("height",e).attr("opacity",0)}y=function(f){void 0===v&&(v=d3.extent(f,function(a){return a[g]}));void 0===n&&(n=d3.extent(f.map(function(a){return b.map(function(b){return+a[b]})}).reduce(function(a,
b){return a.concat(b)})),r&&(n[0]=0));t=c.rangeRound([0,a]).domain(v);k=h.rangeRound([e,0]).domain(n);b.forEach(function(a,c){a=d3.line().curve(p[c]).x(function(a){return t(a[g])}).y(function(a){return k(a[b[c]])});var e=z?z:"line-"+b[c];w.select("."+e).empty()?w.datum(f).append("path").attr("class","line "+e).attr("d",a).style("fill","none").style("stroke-linecap","round").style("stroke-linejoin","round").style("pointer-events","none").style("stroke-width",u).style("stroke",d[c]):w.datum(f).select("."+
e).transition().duration(500).attr("d",a)})};y(f);q=function(){w.selectAll(".tooltip-line").attr("stroke","none");w.selectAll(".tooltip-circle").style("opacity",0);w.selectAll(".tooltip-text").style("opacity",0)};if(C)F.on("mousemove",function(){var a=[],c=d3.mouse(w.node()),y=d3.bisector(function(a){return a[g]}).right,h=t.invert(c[0]);c=y(f,h);var n=f[c-1];a.push(l(n[g]));var r=f[c];w.selectAll(".tooltip-line").attr("stroke","red").attr("x1",t(h)).attr("x2",t(h)).attr("y1",0).attr("y2",e);b.forEach(function(c,
e){var f=d3.interpolateNumber(n[b[e]],r[b[e]]),y=r[g]-n[g];f=f(h%y/y);a.push(c+" \u2013 "+n[b[e]]);w.select(".tooltip-circle-"+c).attr("cx",t(h)).attr("cy",k(f)).attr("r",7).style("fill",d[e]).style("opacity",1)});c=w.selectAll(".tooltip-text").style("opacity",1);w.selectAll(".tooltip-text-line").remove();for(y={i$1:0};y.i$1<a.length;y={i$1:y.i$1},y.i$1++)c.append("tspan").attr("class","tooltip-text-line").attr("x",5).attr("dy",function(a){return function(){return 0==a.i$1?0:15}}(y)).text(a[y.i$1])}).on("mouseout",
q)})};q.width=function(b){if(!arguments.length)return a;a=b;return q};q.height=function(a){if(!arguments.length)return e;e=a;return q};q.xAxisScale=function(a){if(!arguments.length)return c;c=a;return q};q.yAxisScale=function(a){if(!arguments.length)return h;h=a;return q};q.xDataPoints=function(a){if(!arguments.length)return g;g=a;return q};q.yDataPoints=function(a){if(!arguments.length)return b;b=a.constructor===Array?a:[a];return q};q.axisColor=function(a){if(!arguments.length)return w;w=a;return q};
q.stroke=function(a){if(!arguments.length)return d;d=a.constructor===Array?a:[a];return q};q.curve=function(a){if(!arguments.length)return p;p=a.constructor===Array?a:[a];return q};q.scaleX=function(){return t};q.scaleY=function(){return k};q.update=function(a){y(a);return q};q.xMinMax=function(a){if(!arguments.length)return v;v=a;return q};q.yMinMax=function(a){if(!arguments.length)return n;n=a;return q};q.legendFill=function(a){if(!arguments.length)return x;x=a;return q};q.legendX=function(a){if(!arguments.length)return D;
D=a;return q};q.legendY=function(a){if(!arguments.length)return B;B=a;return q};q.strokeWidth=function(a){if(!arguments.length)return u;u=a;return q};q.setYMinToZero=function(a){if(!arguments.length)return r;r=a;return q};q.dataPointLineFill=function(a){if(!arguments.length)return A;A=a;return q};q.xDataPointsFormat=function(a){if(!arguments.length)return l;l=a;return q};q.yDataPointsFormat=function(a){if(!arguments.length)return f;f=a;return q};q.activateTooltip=function(a){if(!arguments.length)return C;
console.log("ATTENTION: This feature is experimental.");C=a;return q};q.showLegend=function(a){if(!arguments.length)return m;m=a;return q};q.lineClass=function(a){if(!arguments.length)return z;z=a;return q};return q}
function wbNetworkDiagram(){var a=500,e=500,c="black",h="black",g=1,b="black",l=[1,10],f=[5,20],t,k=0,v=0,n=.5,r=["red","green","blue"],d=function(d){d.each(function(d,u,m){u=d3.select(m[u]);var x=d3.scaleLinear().domain(d3.extent(d.nodes,function(a){return a.weight})).range(f),p=d3.scaleLinear().domain(d3.extent(d.links,function(a){return a.value})).range(l);d.nodes.forEach(function(a){a.r=x(a.weight)});var w=u.append("g").selectAll("line").data(d.links).enter().append("line").attr("class","lines").attr("stroke-width",
function(a){return p(a.value)}).style("stroke",c).style("stroke-opacity","0.6"),z=u.append("g").selectAll("circle").data(d.nodes).enter().append("circle").attr("class","circles").attr("r",function(a){return a.r}).attr("fill",function(a){return r[a.group]}).style("stroke",h).style("stroke-width",g).call(d3.drag().on("start",function(a){d3.event.active||A.alphaTarget(.5).restart();a.fx=a.x;a.fy=a.y}).on("drag",function(a){a.fx=d3.event.x;a.fy=d3.event.y}).on("end",function(a){d3.event.active||A.alphaTarget(0);
a.fx=null;a.fy=null})),A=d3.forceSimulation().force("x",d3.forceX(a)).force("y",d3.forceY(e)).force("center",d3.forceCenter(a/2,e/2)).force("charge",d3.forceManyBody()).force("collide",d3.forceCollide().radius(function(a){return a.r+n}).iterations(3)).force("link",d3.forceLink().id(function(a){return a.id}));A.nodes(d.nodes).on("tick",function(){z.attr("cx",function(b){return b.x=Math.max(b.r,Math.min(a-b.r,b.x))}).attr("cy",function(a){return a.y=Math.max(a.r,Math.min(e-a.r,a.y))});w.attr("x1",function(a){return a.source.x}).attr("y1",
function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y})});A.force("link").links(d.links);if(void 0===t){var C=[];d.nodes.forEach(function(a){C.push(a.group)});d=Array.from(new Set(C.sort()));t=[];for(m=0;m<d.length;m++)t.push([d[m],r(d[m])])}d=u.append("g").attr("font-size","75%").attr("text-anchor","end").selectAll("g").data(t).enter().append("g").attr("transform",function(a,b){return"translate(0,"+(20*b+10)+")"});d.append("rect").attr("x",
a-19+k).attr("y",0+v).attr("width",19).attr("height",19).attr("fill",function(a){return a[1]});d.append("text").attr("x",a-24+k).attr("y",9.5+v).attr("dy","0.32em").attr("fill",b).text(function(a){return a[0]})})};d.legendShiftX=function(a){if(!arguments.length)return k;k=a;return d};d.legendShiftY=function(a){if(!arguments.length)return v;v=a;return d};d.width=function(b){if(!arguments.length)return a;a=b;return d};d.height=function(a){if(!arguments.length)return e;e=a;return d};d.linkStroke=function(a){if(!arguments.length)return c;
c=a;return d};d.nodeStroke=function(a){if(!arguments.length)return h;h=a;return d};d.nodeStrokeWidth=function(a){if(!arguments.length)return g;g=a;return d};d.legend=function(a){if(!arguments.length)return t;t=a;return d};d.legendColor=function(a){if(!arguments.length)return b;b=a;return d};d.colors=function(a){if(!arguments.length)return r;r=a;return d};d.collide=function(a){if(!arguments.length)return n;n=a;return d};d.thicknessRange=function(a){if(!arguments.length)return l;l=a;return d};d.radiusRange=
function(a){if(!arguments.length)return f;f=a;return d};return d}
function wbNumericHistogram(){var a=500,e=500,c="red",h="white",g=50,b=function(){},l=function(f){f.each(function(f,k,l){function n(k){p.domain(k);var l=d3.histogram().value(function(a){return a.value}).domain(p.domain()).thresholds(p.ticks(g))(f);k=d3.extent(l,function(a){return a.length});x.domain(k);y.selectAll(".bar").remove().exit().data(l).enter().append("rect").attr("class","bar").attr("fill",c).attr("width",function(b,d){b=a/l.length;return b-.1*b}).attr("height",function(a){return e-x(a.length)}).attr("y",
function(a){return x(a.length)}).transition(m).attr("x",function(a){return p(a.x0)});d.select(".axis-x").transition(m).call(D);d.select(".axis-y").transition(m).call(B);d.selectAll(".axis line").attr("stroke",h);d.selectAll(".axis path").attr("stroke",h);d.selectAll(".axis text").attr("fill",h);b()}function r(){A=null}var d=d3.select(l[k]),t,v=d3.extent(f,function(a){return a.value}),p=d3.scaleLinear().rangeRound([0,a]),m=d.transition().duration(750),x=d3.scaleLinear().rangeRound([e,0]),D=d3.axisBottom(p),
B=d3.axisLeft(x),z=d3.brushX().extent([[0,0],[a,e]]).on("end",function(){var a=d3.event.selection;if(a)t=[p.invert(a[0])<v[0]?v[0]:p.invert(a[0]),p.invert(a[1])>v[1]?v[1]:p.invert(a[1])],d.select(".brush").call(z.move,null);else{if(!A)return A=setTimeout(r,C);t=v}n(t)}),A=null,C=350;d.append("g").attr("class","brush").call(z);var y=d.append("g");d.append("g").attr("transform","translate(0,"+e+")").attr("class","axis axis-x");d.append("g").attr("class","axis axis-y");n(v)})};l.height=function(a){if(!arguments.length)return e;
e=a;return l};l.width=function(b){if(!arguments.length)return a;a=b;return l};l.barColor=function(a){if(!arguments.length)return c;c=a;return l};l.axisColor=function(a){if(!arguments.length)return h;h=a;return l};l.numBins=function(a){if(!arguments.length)return g;g=a;return l};l.updateCallback=function(a){if(!arguments.length)return b;b=a;return l};return l}
function wbPackedBubbles(){var a=500,e=500,c=["green","white"],h=["green","red"],g,b,l=function(f){f.each(function(f,k,l){k=d3.select(l[k]);l=d3.extent(f,function(a){return a.value});var n=d3.scaleLinear().domain(l).interpolate(d3.interpolate).range(c),r=d3.scaleLinear().domain(l).interpolate(d3.interpolate).range(h);g&&(b=d3.scaleLog().domain(l).range(g));l=d3.pack().size([a,e]).padding(.3);f=d3.hierarchy({children:f}).sum(function(a){return a.value});f=k.selectAll("node").data(l(f).leaves()).enter().append("g").attr("class",
"node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"});f.append("a").attr("xlink:href",function(a){return a.data.link}).append("circle").attr("class","circles").attr("id",function(a){return a.id}).transition().duration(500).attr("r",function(a){return a.r}).style("fill",function(a){return r(a.value)}).style("opacity",function(a){return g?b(a.value):"1.0"});f.append("a").attr("xlink:href",function(a){return a.data.link}).append("text").attr("class","texts").style("font-size","10px").style("text-anchor",
"middle").style("dominant-baseline","middle").style("cursor","default").style("user-select","none").style("-moz-user-select","none").attr("x",0).attr("y",0).text(function(a){return a.data.id}).style("font-size",function(a,b,c){return(2*a.r-10)/c[b].getComputedTextLength()*10+"px"}).style("opacity",function(a){return g?b(a.value):"1.0"}).transition().duration(1E3).style("fill",function(a){return n(a.value)})})};l.width=function(b){if(!arguments.length)return a;a=b;return l};l.height=function(a){if(!arguments.length)return e;
e=a;return l};l.colorRange=function(a){if(!arguments.length)return c;c=a;return l};l.fillRange=function(a){if(!arguments.length)return h;h=a;return l};l.fadeOpacity=function(a){if(!arguments.length)return g;g=a;return l};l.fadeScale=function(a){if(!arguments.length)return b;b=a;return l};return l}
var wbPosNeg=function(){var a=500,e=500,c=.1,h,g,b="green",l="red",f=function(c){c.each(function(c,f,n){f=d3.select(n[f]);c.forEach(function(a){a.pos=+a.pos;a.neg=+a.neg;a.sum=+a.sum});c=c.reverse();n=d3.extent(c,function(a){return Math.max(a.pos,-a.neg)});n[0]=0;h=d3.scaleLinear().range([0,a/2]).domain(n);g=d3.scaleBand().rangeRound([e,0],.1).padding(.2).domain(c.map(function(a){return a.label}));f.selectAll(".rects-pos").remove().exit().data(c).enter().append("rect").attr("class","rects-pos").attr("x",
a/2).attr("width",function(a){return h(a.pos)}).attr("y",function(a){return g(a.label)}).attr("height",function(a){return g.bandwidth()}).style("fill",b);f.selectAll(".rects-neg").remove().exit().data(c).enter().append("rect").attr("class","rects-neg").attr("x",function(b){return a/2-h(-b.neg)}).attr("width",function(a){return h(-a.neg)}).attr("y",function(a){return g(a.label)}).attr("height",function(a){return g.bandwidth()}).style("fill",l)})};f.width=function(b){if(!arguments.length)return a;a=
b;return f};f.height=function(a){if(!arguments.length)return e;e=a;return f};f.scaleX=function(a){if(!arguments.length)return h;h=a;return f};f.scaleY=function(a){if(!arguments.length)return g;g=a;return f};f.fillPos=function(a){if(!arguments.length)return b;b=a;return f};f.fillNeg=function(a){if(!arguments.length)return l;l=a;return f};f.padding=function(a){if(!arguments.length)return c;c=a;return f};return f};
function wbSankeyDiagram(){var a=500,e=500,c="black",h=d3.scaleOrdinal(d3.schemeCategory20c),g=function(b){b.each(function(b,f,g){f=d3.select(g[f]);d3.sankey().nodeWidth(15).nodePadding(10).size([a,e])(b);f.append("g").attr("class","sankey-link").style("fill","none").style("stroke",c).style("stroke-opacity",.2).selectAll("path").data(b.links).enter().append("path").attr("d",d3.sankeyLinkHorizontal()).attr("stroke-width",function(a){return Math.max(1,a.width)});b=f.append("g").attr("class","sankey-node").selectAll("g").data(b.nodes).enter().append("g");
b.append("rect").attr("x",function(a){return a.x0}).attr("y",function(a){return a.y0}).attr("height",function(a){return a.y1-a.y0}).attr("width",function(a){return a.x1-a.x0}).attr("fill",function(a){return h(a.name.replace(/ .*/,""))}).style("stroke",function(a){return c});b.append("text").style("fill",function(a){return c}).attr("x",function(a){return a.x0-6}).attr("y",function(a){return(a.y1+a.y0)/2}).attr("text-anchor","end").text(function(a){return a.name}).filter(function(b){return b.x0<a/2}).attr("x",
function(a){return a.x1+6}).attr("text-anchor","start")})};g.width=function(b){if(!arguments.length)return a;a=b;return g};g.height=function(a){if(!arguments.length)return e;e=a;return g};g.fill=function(a){if(!arguments.length)return c;c=a;return g};g.colors=function(a){if(!arguments.length)return h;h=a;return g};return g}
function wbScatterPlot(){var a=500,e=500,c="x",h="y",g,b=d3.scaleLinear(),l=d3.scaleLinear(),f=d3.scaleLinear(),t="green",k="red",v=void 0,n=[0,1],r=function(){},d=function(d){d.each(function(d,u,m){var x=d3.select(m[u]),p=d3.extent(d,function(a){return a[c]}),w=d3.extent(d,function(a){return a[h]});g=g||c;var z=d3.extent(d,function(a){return a[g]});x.selectAll(".scatter-datapoint").data(d).enter().append("rect").attr("class","scatter-datapoint").attr("width",8).attr("height",8).attr("rx",5);var A,
C,y,q;r=function(m){m=m||!1;void 0!==v&&(q=d3.scaleLog().domain(d3.extent(d,function(a){return a[v]})).range(n));A=b.range([0,a]).domain(p);C=l.range([e,0]).domain(w);y=f.domain(z).interpolate(d3.interpolate).range([t,k]);(m?x.selectAll(".scatter-datapoint"):x.selectAll(".scatter-datapoint").transition().duration(500)).attr("opacity",function(a){return void 0!==v?q(a[v]):1}).attr("x",function(a){return A(a[c])-4}).attr("y",function(a){return C(a[h])-4}).style("fill",function(a){return y(a[g])})};
r(!0)})};d.width=function(b){if(!arguments.length)return a;a=b;return d};d.height=function(a){if(!arguments.length)return e;e=a;return d};d.xAxisScale=function(a){if(!arguments.length)return b;b=a;return d};d.yAxisScale=function(a){if(!arguments.length)return l;l=a;return d};d.zAxisScale=function(a){if(!arguments.length)return f;f=a;return d};d.xDataPoints=function(a){if(!arguments.length)return c;c=a;return d};d.yDataPoints=function(a){if(!arguments.length)return h;h=a;return d};d.zDataPoints=function(a){if(!arguments.length)return g;
g=a;return d};d.opacityDataPoints=function(a){if(!arguments.length)return v;v=a;return d};d.opacityRange=function(a){if(!arguments.length)return n;n=a;return d};d.colorLow=function(a){if(!arguments.length)return t;t=a;return d};d.colorHigh=function(a){if(!arguments.length)return k;k=a;return d};d.color=function(a){if(arguments.length)return k=t=a,d};d.update=function(){r();return d};return d}
function wbStackedBarChart(){var a=500,e=500,c="x",h="y",g=["red","green","blue"],b="black",l="black",f=0,t=0,k=0,v=.1,n=0,r=!0,d=[],u,w,p=!1,m=function(c){c.each(function(c,h,m){h=d3.select(m[h]);c.forEach(function(a,b){var c=Object.keys(a);for(b=a.total=0;b<c.length;++b)d.includes(c[b])||"id"==c[b]||(a.total+=+a[c[b]])});p&&c.sort(function(a,b){return b.total-a.total});u=d3.scaleBand().rangeRound([0,a]).padding(v).align(n);w=d3.scaleLinear().rangeRound([e,0]);var x=d3.scaleOrdinal().range(g);u.domain(c.map(function(a){return a.id}));
w.domain([0,d3.max(c,function(a){return a.total})]).nice();m=c.columns.filter(function(a){return"id"!=a&&!d.includes(a)});x.domain(m);c=d3.stack().keys(m)(c);c.forEach(function(a){a.forEach(function(b){b.keyRef=a.key})});h.append("g").selectAll("g").data(c).enter().append("g").attr("fill",function(a){return x(a.key)}).selectAll("rect").data(function(a,b){return a}).enter().append("rect").attr("class","rects").attr("x",function(a){return u(a.data.id)}).attr("y",function(a){return w(a[1])}).attr("height",
function(a){return w(a[0])-w(a[1])}).attr("width",u.bandwidth()).style("stroke",l).style("stroke-width",f);r&&(c=h.append("g").attr("font-size","75%").attr("text-anchor","end").attr("transform","translate("+t+","+k+")").selectAll("g").data(m.slice()).enter().append("g").attr("transform",function(a,b){return"translate(0,"+20*b+")"}),c.append("rect").attr("x",-19).attr("width",19).attr("height",19).attr("fill",x),c.append("text").attr("x",-22).attr("y",9.5).attr("dy","0.32em").text(function(a){return a}).attr("fill",
b))})};m.width=function(b){if(!arguments.length)return a;a=b;return m};m.height=function(a){if(!arguments.length)return e;e=a;return m};m.xSelector=function(a){if(!arguments.length)return c;c=a;return m};m.ySelector=function(a){if(!arguments.length)return h;h=a;return m};m.scaleX=function(a){if(!arguments.length)return u;u=a;return m};m.scaleY=function(a){if(!arguments.length)return w;w=a;return m};m.colors=function(a){if(!arguments.length)return g;g=a;return m};m.legendFill=function(a){if(!arguments.length)return b;
b=a;return m};m.legendX=function(a){if(!arguments.length)return t;t=a;return m};m.legendY=function(a){if(!arguments.length)return k;k=a;return m};m.sortBySum=function(a){if(!arguments.length)return p;p=a;return m};m.ignoreColumns=function(a){if(!arguments.length)return d;d=a;return m};m.padding=function(a){if(!arguments.length)return v;v=a;return m};m.align=function(a){if(!arguments.length)return n;n=a;return m};m.showLegend=function(a){if(!arguments.length)return r;r=a;return m};m.stroke=function(a){if(!arguments.length)return l;
l=a;return m};m.strokeWidth=function(a){if(!arguments.length)return f;f=a;return m};return m}
function wbStaticNumbers(){var a=500,e=500,c="black",h="red",g=function(b){b.each(function(b,f,g){f=d3.select(g[f]);var k=a/b.length,l=.1*a/(b.length-1);f.selectAll("number-value").data(b).enter().append("text").text(function(a){return a.name}).attr("x",function(a,b){return b*k}).attr("y",e).attr("text-anchor","left").attr("dominant-baseline","baseline").attr("fill",c).style("font-size","20px").style("font-weight","bold").text(function(a){return a.value}).style("font-size",function(a,b,c){a=c[b].getComputedTextLength();
return(k-l)/a*20+"px"}).call(d3wb.util.makeUnselectable()).each(function(a,b,c){a.numberBox=c[b].getBBox()});f.selectAll("number-label").data(b).enter().append("text").text(function(a){return a.name}).attr("x",function(a,b){return b*k}).attr("y",function(a){return e-a.numberBox.height+.25*a.numberBox.height}).attr("text-anchor","left").attr("fill",h).style("font-size","20px").text(function(a){return a.label}).style("font-size",function(a,b,c){a=c[b].getComputedTextLength();return(k-l)/a*20+"px"}).call(d3wb.util.makeUnselectable()).each(function(a,
b,c){a.numberBox=c[b].getBBox()})})};g.width=function(b){if(!arguments.length)return a;a=b;return g};g.height=function(a){if(!arguments.length)return e;e=a;return g};g.fillNumber=function(a){if(!arguments.length)return c;c=a;return g};g.fillLabel=function(a){if(!arguments.length)return h;h=a;return g};return g}
function wbTimeseries(){var a=500,e=500,c="hour",h="red",g="orange",b="black",l=void 0,f=d3.mean,t,k,v,n=function(n){n.each(function(d,n,r){n=d3.select(r[n]);var p=d3.extent(d,function(a){return a.date});d.forEach(function(a){a.month=a.date.getMonth();a.year=a.date.getFullYear();a.weekday=a.date.getDay();a.hour=a.date.getHours();a.minute=a.date.getMinutes();a.day=(new Date(a.date)).setHours(0,0,0,0);a["minute-of-day"]=(new Date(a.date)).setSeconds(0,0)});r=d3.extent(d,function(a){return a[c]});if("month"==
c){var m=d3.timeMonths(new Date(2017,0,1),new Date(2017,11,31));var u=d3.timeFormat("%B")}else if("year"==c){m=d3.timeYears(new Date(r[0],0,1),new Date(r[1],12,1));u=function(a){return a};var w=[];m.forEach(function(a){w.push(a.getFullYear())});m=w}else"weekday"==c?(m=[0,1,2,3,4,5,6],u=d3.timeFormat("%A")):"day"==c?(m=d3.timeDays(p[0],p[1]),u=d3.timeFormat("%d.%m.%Y")):"minute-of-day"==c&&(m=d3.timeMinutes(p[0]-6E4,p[1]),u=d3.timeFormat("%H:%M"));t=d3.scaleOrdinal().domain(m).range(d3.range(0,a,a/
m.length));var B=a/m.length*.1;d=d3.histogram().value(function(a){return a[c]}).thresholds(m)(d);r=d3.max(d,function(a){return a.length});k=d3.scaleLinear().range([e,0]).domain([0,r+1]);r=d3.extent(d,function(a){return a.length});var z=a/m.length-B;n.selectAll("rect").data(d).enter().append("rect").attr("class","rects").attr("x",0).attr("fill",function(a){return h}).attr("transform",function(a){return"translate("+t(a.x0)+","+k(a.length)+")"}).attr("width",function(a){return z}).attr("height",function(a){return e-
k(a.length)});if(l){d.forEach(function(a){var b=[];a.forEach(function(a){b=b.concat(a.value)});a.mean=f(b)});var A=d3.scaleOrdinal().domain(m).range(d3.range(0,a,a/m.length)),C=a/m.length*.8;r=d3.max(d,function(a){return a.mean});v=d3.scaleLinear().range([e,0]).domain([0,r+1]);n.selectAll(".dim").data(d).enter().append("rect").attr("class","valuerects").attr("fill",function(a){return g}).attr("transform",function(b){var c=z/2-a/m.length*.1;return"translate("+(A(b.x0)+c)+","+v(b.mean)+")"}).attr("width",
function(b){return a/m.length-C}).attr("height",function(a){return e-v(a.mean)})}n=n.append("g").attr("transform","translate(0,"+e+")").selectAll("xaxis").data(d).enter();n.append("line").attr("x1",0).attr("x2",a).style("stroke",b);n.append("text").text(function(a,b){if("weekday"!=c)return u(m[b]);a=d3.timeDays(new Date(2017,0,1),new Date(2017,0,8));return u(a[m[b]])}).style("text-anchor","middle").style("font-size","70%").style("fill",b).attr("x",function(b,c){return a/m.length*c+a/m.length/2-B/
2}).attr("y",function(a,b,c){return c[b].getBBox().height+5});n.append("line").attr("x1",function(b,c){return a/m.length*c+a/m.length/2-B/2}).attr("x2",function(b,c){return a/m.length*c+a/m.length/2-B/2}).attr("y1",0).attr("y2",5).style("stroke",b)})};n.width=function(b){if(!arguments.length)return a;a=b;return n};n.height=function(a){if(!arguments.length)return e;e=a;return n};n.target=function(a){if(!arguments.length)return c;c=a;return n};n.fill=function(a){if(!arguments.length)return h;h=a;return n};
n.fillValues=function(a){if(!arguments.length)return g;g=a;return n};n.fillAxis=function(a){if(!arguments.length)return b;b=a;return n};n.scaleX=function(a){if(!arguments.length)return t;t=a;return n};n.scaleY=function(a){if(!arguments.length)return k;k=a;return n};n.scaleY2=function(a){if(!arguments.length)return v;v=a;return n};n.valueColumn=function(a){if(!arguments.length)return l;l=a;return n};n.valueColumnAggregation=function(a){if(!arguments.length)return f;f=a;return n};return n}
function wbTreeMap(){var a=500,e=500,c=d3.scaleOrdinal(d3.schemeCategory20c),h="black",g=function(b){b.each(function(b,f,g){f=d3.select(g[f]);g=d3.treemap().tile(d3.treemapResquarify).size([a,e]).round(!0).paddingInner(1.5);b=d3.hierarchy(b).eachBefore(function(a){a.data.id=(a.parent?a.parent.data.id+".":"")+a.data.name}).sum(function(a){return a.size}).sort(function(a,b){return b.height-a.height||b.value-a.value});g(b);b=f.selectAll("g").data(b.leaves()).enter().append("g").attr("class","cells").attr("transform",
function(a){return"translate("+a.x0+","+a.y0+")"});b.append("rect").attr("id",function(a){return a.data.id}).attr("width",function(a){return a.x1-a.x0}).attr("height",function(a){return a.y1-a.y0}).attr("fill",function(a){return c(a.parent.data.id)});b.append("clipPath").attr("id",function(a){return"clip-"+a.data.id}).append("use").attr("xlink:href",function(a){return"#"+a.data.id});b.append("text").style("font-size","75%").attr("clip-path",function(a){return"url(#clip-"+a.data.id+")"}).selectAll("tspan").data(function(a){return a.data.name.split(/(?=[A-Z][^A-Z])/g)}).enter().append("tspan").attr("x",
4).attr("y",function(a,b){return 13+10*b}).attr("fill",h).text(function(a){return a})})};g.width=function(b){if(!arguments.length)return a;a=b;return g};g.height=function(a){if(!arguments.length)return e;e=a;return g};g.colors=function(a){if(!arguments.length)return c;c=a;return g};g.fill=function(a){if(!arguments.length)return h;h=a;return g};return g}
function wbWordCloud(){var a=500,e=500,c=["green","green"],h=function(g){g.each(function(b,g,f){var h=d3.select(f[g]);b.forEach(function(a){a.fontsize=1E4*+a.textrank});g=d3.extent(b,function(a){return a.textrank});var k=d3.scaleLinear().domain(g).interpolate(d3.interpolate).range(c);d3.layout.cloud().size([a,e]).words(b).padding(1).rotate(0).font("Roboto Condensed").fontSize(function(a){return a.fontsize}).on("end",function(b){h.attr("transform","translate("+a/2+","+e/2+")");b=h.selectAll("text").data(b,
function(a){return a.text});b.enter().append("text").style("fill",function(a){return k(a.textrank)}).attr("text-anchor","middle").attr("font-size",function(a){return a.size+"px"}).attr("transform",function(a){return"translate("+[a.x,a.y]+")rotate("+a.rotate+")"}).text(function(a){return a.text});b.exit().remove()}).start()})};h.width=function(c){if(!arguments.length)return a;a=c;return h};h.height=function(a){if(!arguments.length)return e;e=a;return h};h.colorRange=function(a){if(!arguments.length)return c;
c=a;return h};return h};